
========== TEST Basics: help, status, config ==========


---------- SUBTEST Just help ----------

tupimage --help
usage: tupimage [-h]
                {dump-config,status,list,display,upload,get-id,placeholder,forget,dirty,reupload,fix} ...

positional arguments:
  {dump-config,status,list,display,upload,get-id,placeholder,forget,dirty,reupload,fix}
    dump-config         Dump the config state.
    status              Display the status.
    list                List all known images or known images matching the
                        criteria.
    display             Display an image. (default)
    upload              Upload an image without displaying.
    get-id              Assign an id to an image without displaying or
                        uploading it.
    placeholder         Print a placeholder for the given id, rows and
                        columns.
    forget              Forget all matching images. Don't delete them from the
                        terminal though.
    dirty               Mark all matching images as dirty (not uploaded to any
                        terminal).
    reupload            Reupload all matching images to the current terminal.
    fix                 Reupload all dirty matching images to the current
                        terminal.

options:
  -h, --help            show this help message and exit

---------- SUBTEST Different ways of printing help (only help line is checked) ----------

tupimage 
  -h, --help            show this help message and exit
tupimage -h
  -h, --help            show this help message and exit
tupimage ./.cli-tests-data/tux.png --help
  -h, --help            show this help message and exit
tupimage ./.cli-tests-data/tux.png -h
  -h, --help            show this help message and exit

---------- SUBTEST Config ----------

tupimage dump-config
id_space = "24bit"                # set via TUPIMAGE_ID_SPACE
id_subspace = "0:256"             # default
max_ids_per_subspace = 1024       # default
id_database_dir = "/tmp/[[tmpdir:.*]]/id_database_dir"  # set via TUPIMAGE_ID_DATABASE_DIR
cell_size = "auto"                # default
default_cell_size = "8x16"        # default
scale = 1.0                       # default
global_scale = 1.0                # default
max_rows = "auto"                 # default
max_cols = "auto"                 # default
max_command_size = 4096           # default
num_tmux_layers = 0               # expanded from 'auto' (default)
reupload_max_uploads_ago = 1024   # default
reupload_max_bytes_ago = 20971520  # default
reupload_max_seconds_ago = 3600   # default
force_upload = false              # default
supported_formats = "auto"        # default
upload_method = "auto"            # default
check_response = false            # default
check_response_timeout = 3.0      # default
redetect_terminal = true          # default
stream_max_size = 2097152         # default
file_max_size = 10485760          # default
fewer_diacritics = false          # default
placeholder_char = "\U0010eeee"   # default
background = "none"               # default
ignore_unknown_attributes = false  # default

---------- SUBTEST Config without provenance ----------

tupimage dump-config --no-provenance
id_space = "24bit"
id_subspace = "0:256"
max_ids_per_subspace = 1024
id_database_dir = "/tmp/[[tmpdir]]/id_database_dir"
cell_size = "auto"
default_cell_size = "8x16"
scale = 1.0
global_scale = 1.0
max_rows = "auto"
max_cols = "auto"
max_command_size = 4096
num_tmux_layers = 0
reupload_max_uploads_ago = 1024
reupload_max_bytes_ago = 20971520
reupload_max_seconds_ago = 3600
force_upload = false
supported_formats = "auto"
upload_method = "auto"
check_response = false
check_response_timeout = 3.0
redetect_terminal = true
stream_max_size = 2097152
file_max_size = 10485760
fewer_diacritics = false
placeholder_char = "\U0010eeee"
background = "none"
ignore_unknown_attributes = false

---------- SUBTEST Config without defaults ----------

tupimage dump-config --skip-default
id_space = "24bit"                # set via TUPIMAGE_ID_SPACE
id_database_dir = "/tmp/[[tmpdir]]/id_database_dir"  # set via TUPIMAGE_ID_DATABASE_DIR
num_tmux_layers = 0               # expanded from 'auto' (default)

---------- SUBTEST Config without defaults and provenance ----------

tupimage dump-config --skip-default --no-provenance
id_space = "24bit"
id_database_dir = "/tmp/[[tmpdir]]/id_database_dir"
num_tmux_layers = 0

---------- SUBTEST Status ----------

tupimage status
Config file: DEFAULT
num_tmux_layers: 0
inside_ssh: False
terminal_name: st-256color
terminal_id: st-256color-[[winid:.*]]
session_id: st-256color-[[winid]]
database_file: /tmp/[[tmpdir]]/id_database_dir/st-256color-[[winid]].db
Default ID space: 24bit
Default subspace: 0:256
Total IDs in the session db: 0
IDs in the subspace: 0
Supported formats: ['png', 'jpeg']
Default uploading method: f
Max size in cells (cols x rows): 80 x 24
(Assumed) cell size in pixels (w x h): 7 x 14

All databases in /tmp/[[tmpdir]]/id_database_dir
  st-256color-[[winid]].db  (atime: {{.*}}, size: {{.*}} KiB)

========== TEST Basic image display ==========


---------- SUBTEST Just wikipedia logo ----------

tupimage ./.cli-tests-data/wikipedia.png
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=24,c=53;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇􎻮̅֒􎻮̅֓􎻮̅֔􎻮̅֕􎻮̅֗􎻮̅֘􎻮̅֙􎻮̅֜􎻮̅֝􎻮̅֞􎻮̅֟􎻮̅֠􎻮̅֡􎻮̅֨􎻮̅֩􎻮̅֫􎻮̅֬􎻮̅֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋􎻮̍͌􎻮̍͐􎻮̍͑􎻮̍͒􎻮̍͗􎻮̍͛􎻮̍ͣ􎻮̍ͤ􎻮̍ͥ􎻮̍ͦ􎻮̍ͧ􎻮̍ͨ􎻮̍ͩ􎻮̍ͪ􎻮̍ͫ􎻮̍ͬ􎻮̍ͭ􎻮̍ͮ􎻮̍ͯ􎻮̍҃􎻮̍҄􎻮̍҅􎻮̍҆􎻮̍҇􎻮̍֒􎻮̍֓􎻮̍֔􎻮̍֕􎻮̍֗􎻮̍֘􎻮̍֙􎻮̍֜􎻮̍֝􎻮̍֞􎻮̍֟􎻮̍֠􎻮̍֡􎻮̍֨􎻮̍֩􎻮̍֫􎻮̍֬􎻮̍֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋􎻮̎͌􎻮̎͐􎻮̎͑􎻮̎͒􎻮̎͗􎻮̎͛􎻮̎ͣ􎻮̎ͤ􎻮̎ͥ􎻮̎ͦ􎻮̎ͧ􎻮̎ͨ􎻮̎ͩ􎻮̎ͪ􎻮̎ͫ􎻮̎ͬ􎻮̎ͭ􎻮̎ͮ􎻮̎ͯ􎻮̎҃􎻮̎҄􎻮̎҅􎻮̎҆􎻮̎҇􎻮̎֒􎻮̎֓􎻮̎֔􎻮̎֕􎻮̎֗􎻮̎֘􎻮̎֙􎻮̎֜􎻮̎֝􎻮̎֞􎻮̎֟􎻮̎֠􎻮̎֡􎻮̎֨􎻮̎֩􎻮̎֫􎻮̎֬􎻮̎֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆􎻮̐͊􎻮̐͋􎻮̐͌􎻮̐͐􎻮̐͑􎻮̐͒􎻮̐͗􎻮̐͛􎻮̐ͣ􎻮̐ͤ􎻮̐ͥ􎻮̐ͦ􎻮̐ͧ􎻮̐ͨ􎻮̐ͩ􎻮̐ͪ􎻮̐ͫ􎻮̐ͬ􎻮̐ͭ􎻮̐ͮ􎻮̐ͯ􎻮̐҃􎻮̐҄􎻮̐҅􎻮̐҆􎻮̐҇􎻮̐֒􎻮̐֓􎻮̐֔􎻮̐֕􎻮̐֗􎻮̐֘􎻮̐֙􎻮̐֜􎻮̐֝􎻮̐֞􎻮̐֟􎻮̐֠􎻮̐֡􎻮̐֨􎻮̐֩􎻮̐֫􎻮̐֬􎻮̐֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̒̅􎻮̒̍􎻮̒̎􎻮̒̐􎻮̒̒􎻮̒̽􎻮̒̾􎻮̒̿􎻮̒͆􎻮̒͊􎻮̒͋􎻮̒͌􎻮̒͐􎻮̒͑􎻮̒͒􎻮̒͗􎻮̒͛􎻮̒ͣ􎻮̒ͤ􎻮̒ͥ􎻮̒ͦ􎻮̒ͧ􎻮̒ͨ􎻮̒ͩ􎻮̒ͪ􎻮̒ͫ􎻮̒ͬ􎻮̒ͭ􎻮̒ͮ􎻮̒ͯ􎻮̒҃􎻮̒҄􎻮̒҅􎻮̒҆􎻮̒҇􎻮̒֒􎻮̒֓􎻮̒֔􎻮̒֕􎻮̒֗􎻮̒֘􎻮̒֙􎻮̒֜􎻮̒֝􎻮̒֞􎻮̒֟􎻮̒֠􎻮̒֡􎻮̒֨􎻮̒֩􎻮̒֫􎻮̒֬􎻮̒֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̽̅􎻮̽̍􎻮̽̎􎻮̽̐􎻮̽̒􎻮̽̽􎻮̽̾􎻮̽̿􎻮̽͆􎻮̽͊􎻮̽͋􎻮̽͌􎻮̽͐􎻮̽͑􎻮̽͒􎻮̽͗􎻮̽͛􎻮̽ͣ􎻮̽ͤ􎻮̽ͥ􎻮̽ͦ􎻮̽ͧ􎻮̽ͨ􎻮̽ͩ􎻮̽ͪ􎻮̽ͫ􎻮̽ͬ􎻮̽ͭ􎻮̽ͮ􎻮̽ͯ􎻮̽҃􎻮̽҄􎻮̽҅􎻮̽҆􎻮̽҇􎻮̽֒􎻮̽֓􎻮̽֔􎻮̽֕􎻮̽֗􎻮̽֘􎻮̽֙􎻮̽֜􎻮̽֝􎻮̽֞􎻮̽֟􎻮̽֠􎻮̽֡􎻮̽֨􎻮̽֩􎻮̽֫􎻮̽֬􎻮̽֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̾̅􎻮̾̍􎻮̾̎􎻮̾̐􎻮̾̒􎻮̾̽􎻮̾̾􎻮̾̿􎻮̾͆􎻮̾͊􎻮̾͋􎻮̾͌􎻮̾͐􎻮̾͑􎻮̾͒􎻮̾͗􎻮̾͛􎻮̾ͣ􎻮̾ͤ􎻮̾ͥ􎻮̾ͦ􎻮̾ͧ􎻮̾ͨ􎻮̾ͩ􎻮̾ͪ􎻮̾ͫ􎻮̾ͬ􎻮̾ͭ􎻮̾ͮ􎻮̾ͯ􎻮̾҃􎻮̾҄􎻮̾҅􎻮̾҆􎻮̾҇􎻮̾֒􎻮̾֓􎻮̾֔􎻮̾֕􎻮̾֗􎻮̾֘􎻮̾֙􎻮̾֜􎻮̾֝􎻮̾֞􎻮̾֟􎻮̾֠􎻮̾֡􎻮̾֨􎻮̾֩􎻮̾֫􎻮̾֬􎻮̾֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̿̅􎻮̿̍􎻮̿̎􎻮̿̐􎻮̿̒􎻮̿̽􎻮̿̾􎻮̿̿􎻮̿͆􎻮̿͊􎻮̿͋􎻮̿͌􎻮̿͐􎻮̿͑􎻮̿͒􎻮̿͗􎻮̿͛􎻮̿ͣ􎻮̿ͤ􎻮̿ͥ􎻮̿ͦ􎻮̿ͧ􎻮̿ͨ􎻮̿ͩ􎻮̿ͪ􎻮̿ͫ􎻮̿ͬ􎻮̿ͭ􎻮̿ͮ􎻮̿ͯ􎻮̿҃􎻮̿҄􎻮̿҅􎻮̿҆􎻮̿҇􎻮̿֒􎻮̿֓􎻮̿֔􎻮̿֕􎻮̿֗􎻮̿֘􎻮̿֙􎻮̿֜􎻮̿֝􎻮̿֞􎻮̿֟􎻮̿֠􎻮̿֡􎻮̿֨􎻮̿֩􎻮̿֫􎻮̿֬􎻮̿֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͆̅􎻮͆̍􎻮͆̎􎻮͆̐􎻮͆̒􎻮͆̽􎻮͆̾􎻮͆̿􎻮͆͆􎻮͆͊􎻮͆͋􎻮͆͌􎻮͆͐􎻮͆͑􎻮͆͒􎻮͆͗􎻮͆͛􎻮͆ͣ􎻮͆ͤ􎻮͆ͥ􎻮͆ͦ􎻮͆ͧ􎻮͆ͨ􎻮͆ͩ􎻮͆ͪ􎻮͆ͫ􎻮͆ͬ􎻮͆ͭ􎻮͆ͮ􎻮͆ͯ􎻮͆҃􎻮͆҄􎻮͆҅􎻮͆҆􎻮͆҇􎻮͆֒􎻮͆֓􎻮͆֔􎻮͆֕􎻮͆֗􎻮͆֘􎻮͆֙􎻮͆֜􎻮͆֝􎻮͆֞􎻮͆֟􎻮͆֠􎻮͆֡􎻮͆֨􎻮͆֩􎻮͆֫􎻮͆֬􎻮͆֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͊̅􎻮͊̍􎻮͊̎􎻮͊̐􎻮͊̒􎻮͊̽􎻮͊̾􎻮͊̿􎻮͊͆􎻮͊͊􎻮͊͋􎻮͊͌􎻮͊͐􎻮͊͑􎻮͊͒􎻮͊͗􎻮͊͛􎻮͊ͣ􎻮͊ͤ􎻮͊ͥ􎻮͊ͦ􎻮͊ͧ􎻮͊ͨ􎻮͊ͩ􎻮͊ͪ􎻮͊ͫ􎻮͊ͬ􎻮͊ͭ􎻮͊ͮ􎻮͊ͯ􎻮͊҃􎻮͊҄􎻮͊҅􎻮͊҆􎻮͊҇􎻮͊֒􎻮͊֓􎻮͊֔􎻮͊֕􎻮͊֗􎻮͊֘􎻮͊֙􎻮͊֜􎻮͊֝􎻮͊֞􎻮͊֟􎻮͊֠􎻮͊֡􎻮͊֨􎻮͊֩􎻮͊֫􎻮͊֬􎻮͊֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͋̅􎻮͋̍􎻮͋̎􎻮͋̐􎻮͋̒􎻮͋̽􎻮͋̾􎻮͋̿􎻮͋͆􎻮͋͊􎻮͋͋􎻮͋͌􎻮͋͐􎻮͋͑􎻮͋͒􎻮͋͗􎻮͋͛􎻮͋ͣ􎻮͋ͤ􎻮͋ͥ􎻮͋ͦ􎻮͋ͧ􎻮͋ͨ􎻮͋ͩ􎻮͋ͪ􎻮͋ͫ􎻮͋ͬ􎻮͋ͭ􎻮͋ͮ􎻮͋ͯ􎻮͋҃􎻮͋҄􎻮͋҅􎻮͋҆􎻮͋҇􎻮͋֒􎻮͋֓􎻮͋֔􎻮͋֕􎻮͋֗􎻮͋֘􎻮͋֙􎻮͋֜􎻮͋֝􎻮͋֞􎻮͋֟􎻮͋֠􎻮͋֡􎻮͋֨􎻮͋֩􎻮͋֫􎻮͋֬􎻮͋֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͌̅􎻮͌̍􎻮͌̎􎻮͌̐􎻮͌̒􎻮͌̽􎻮͌̾􎻮͌̿􎻮͌͆􎻮͌͊􎻮͌͋􎻮͌͌􎻮͌͐􎻮͌͑􎻮͌͒􎻮͌͗􎻮͌͛􎻮͌ͣ􎻮͌ͤ􎻮͌ͥ􎻮͌ͦ􎻮͌ͧ􎻮͌ͨ􎻮͌ͩ􎻮͌ͪ􎻮͌ͫ􎻮͌ͬ􎻮͌ͭ􎻮͌ͮ􎻮͌ͯ􎻮͌҃􎻮͌҄􎻮͌҅􎻮͌҆􎻮͌҇􎻮͌֒􎻮͌֓􎻮͌֔􎻮͌֕􎻮͌֗􎻮͌֘􎻮͌֙􎻮͌֜􎻮͌֝􎻮͌֞􎻮͌֟􎻮͌֠􎻮͌֡􎻮͌֨􎻮͌֩􎻮͌֫􎻮͌֬􎻮͌֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͐̅􎻮͐̍􎻮͐̎􎻮͐̐􎻮͐̒􎻮͐̽􎻮͐̾􎻮͐̿􎻮͐͆􎻮͐͊􎻮͐͋􎻮͐͌􎻮͐͐􎻮͐͑􎻮͐͒􎻮͐͗􎻮͐͛􎻮͐ͣ􎻮͐ͤ􎻮͐ͥ􎻮͐ͦ􎻮͐ͧ􎻮͐ͨ􎻮͐ͩ􎻮͐ͪ􎻮͐ͫ􎻮͐ͬ􎻮͐ͭ􎻮͐ͮ􎻮͐ͯ􎻮͐҃􎻮͐҄􎻮͐҅􎻮͐҆􎻮͐҇􎻮͐֒􎻮͐֓􎻮͐֔􎻮͐֕􎻮͐֗􎻮͐֘􎻮͐֙􎻮͐֜􎻮͐֝􎻮͐֞􎻮͐֟􎻮͐֠􎻮͐֡􎻮͐֨􎻮͐֩􎻮͐֫􎻮͐֬􎻮͐֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͑̅􎻮͑̍􎻮͑̎􎻮͑̐􎻮͑̒􎻮͑̽􎻮͑̾􎻮͑̿􎻮͑͆􎻮͑͊􎻮͑͋􎻮͑͌􎻮͑͐􎻮͑͑􎻮͑͒􎻮͑͗􎻮͑͛􎻮͑ͣ􎻮͑ͤ􎻮͑ͥ􎻮͑ͦ􎻮͑ͧ􎻮͑ͨ􎻮͑ͩ􎻮͑ͪ􎻮͑ͫ􎻮͑ͬ􎻮͑ͭ􎻮͑ͮ􎻮͑ͯ􎻮͑҃􎻮͑҄􎻮͑҅􎻮͑҆􎻮͑҇􎻮͑֒􎻮͑֓􎻮͑֔􎻮͑֕􎻮͑֗􎻮͑֘􎻮͑֙􎻮͑֜􎻮͑֝􎻮͑֞􎻮͑֟􎻮͑֠􎻮͑֡􎻮͑֨􎻮͑֩􎻮͑֫􎻮͑֬􎻮͑֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͒̅􎻮͒̍􎻮͒̎􎻮͒̐􎻮͒̒􎻮͒̽􎻮͒̾􎻮͒̿􎻮͒͆􎻮͒͊􎻮͒͋􎻮͒͌􎻮͒͐􎻮͒͑􎻮͒͒􎻮͒͗􎻮͒͛􎻮͒ͣ􎻮͒ͤ􎻮͒ͥ􎻮͒ͦ􎻮͒ͧ􎻮͒ͨ􎻮͒ͩ􎻮͒ͪ􎻮͒ͫ􎻮͒ͬ􎻮͒ͭ􎻮͒ͮ􎻮͒ͯ􎻮͒҃􎻮͒҄􎻮͒҅􎻮͒҆􎻮͒҇􎻮͒֒􎻮͒֓􎻮͒֔􎻮͒֕􎻮͒֗􎻮͒֘􎻮͒֙􎻮͒֜􎻮͒֝􎻮͒֞􎻮͒֟􎻮͒֠􎻮͒֡􎻮͒֨􎻮͒֩􎻮͒֫􎻮͒֬􎻮͒֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͗̅􎻮͗̍􎻮͗̎􎻮͗̐􎻮͗̒􎻮͗̽􎻮͗̾􎻮͗̿􎻮͗͆􎻮͗͊􎻮͗͋􎻮͗͌􎻮͗͐􎻮͗͑􎻮͗͒􎻮͗͗􎻮͗͛􎻮͗ͣ􎻮͗ͤ􎻮͗ͥ􎻮͗ͦ􎻮͗ͧ􎻮͗ͨ􎻮͗ͩ􎻮͗ͪ􎻮͗ͫ􎻮͗ͬ􎻮͗ͭ􎻮͗ͮ􎻮͗ͯ􎻮͗҃􎻮͗҄􎻮͗҅􎻮͗҆􎻮͗҇􎻮͗֒􎻮͗֓􎻮͗֔􎻮͗֕􎻮͗֗􎻮͗֘􎻮͗֙􎻮͗֜􎻮͗֝􎻮͗֞􎻮͗֟􎻮͗֠􎻮͗֡􎻮͗֨􎻮͗֩􎻮͗֫􎻮͗֬􎻮͗֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͛̅􎻮͛̍􎻮͛̎􎻮͛̐􎻮͛̒􎻮͛̽􎻮͛̾􎻮͛̿􎻮͛͆􎻮͛͊􎻮͛͋􎻮͛͌􎻮͛͐􎻮͛͑􎻮͛͒􎻮͛͗􎻮͛͛􎻮͛ͣ􎻮͛ͤ􎻮͛ͥ􎻮͛ͦ􎻮͛ͧ􎻮͛ͨ􎻮͛ͩ􎻮͛ͪ􎻮͛ͫ􎻮͛ͬ􎻮͛ͭ􎻮͛ͮ􎻮͛ͯ􎻮͛҃􎻮͛҄􎻮͛҅􎻮͛҆􎻮͛҇􎻮͛֒􎻮͛֓􎻮͛֔􎻮͛֕􎻮͛֗􎻮͛֘􎻮͛֙􎻮͛֜􎻮͛֝􎻮͛֞􎻮͛֟􎻮͛֠􎻮͛֡􎻮͛֨􎻮͛֩􎻮͛֫􎻮͛֬􎻮͛֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮ͣ̅􎻮ͣ̍􎻮ͣ̎􎻮ͣ̐􎻮ͣ̒􎻮ͣ̽􎻮ͣ̾􎻮ͣ̿􎻮ͣ͆􎻮ͣ͊􎻮ͣ͋􎻮ͣ͌􎻮ͣ͐􎻮ͣ͑􎻮ͣ͒􎻮ͣ͗􎻮ͣ͛􎻮ͣͣ􎻮ͣͤ􎻮ͣͥ􎻮ͣͦ􎻮ͣͧ􎻮ͣͨ􎻮ͣͩ􎻮ͣͪ􎻮ͣͫ􎻮ͣͬ􎻮ͣͭ􎻮ͣͮ􎻮ͣͯ􎻮ͣ҃􎻮ͣ҄􎻮ͣ҅􎻮ͣ҆􎻮ͣ҇􎻮ͣ֒􎻮ͣ֓􎻮ͣ֔􎻮ͣ֕􎻮ͣ֗􎻮ͣ֘􎻮ͣ֙􎻮ͣ֜􎻮ͣ֝􎻮ͣ֞􎻮ͣ֟􎻮ͣ֠􎻮ͣ֡􎻮ͣ֨􎻮ͣ֩􎻮ͣ֫􎻮ͣ֬􎻮ͣ֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮ͤ̅􎻮ͤ̍􎻮ͤ̎􎻮ͤ̐􎻮ͤ̒􎻮ͤ̽􎻮ͤ̾􎻮ͤ̿􎻮ͤ͆􎻮ͤ͊􎻮ͤ͋􎻮ͤ͌􎻮ͤ͐􎻮ͤ͑􎻮ͤ͒􎻮ͤ͗􎻮ͤ͛􎻮ͤͣ􎻮ͤͤ􎻮ͤͥ􎻮ͤͦ􎻮ͤͧ􎻮ͤͨ􎻮ͤͩ􎻮ͤͪ􎻮ͤͫ􎻮ͤͬ􎻮ͤͭ􎻮ͤͮ􎻮ͤͯ􎻮ͤ҃􎻮ͤ҄􎻮ͤ҅􎻮ͤ҆􎻮ͤ҇􎻮ͤ֒􎻮ͤ֓􎻮ͤ֔􎻮ͤ֕􎻮ͤ֗􎻮ͤ֘􎻮ͤ֙􎻮ͤ֜􎻮ͤ֝􎻮ͤ֞􎻮ͤ֟􎻮ͤ֠􎻮ͤ֡􎻮ͤ֨􎻮ͤ֩􎻮ͤ֫􎻮ͤ֬􎻮ͤ֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮ͥ̅􎻮ͥ̍􎻮ͥ̎􎻮ͥ̐􎻮ͥ̒􎻮ͥ̽􎻮ͥ̾􎻮ͥ̿􎻮ͥ͆􎻮ͥ͊􎻮ͥ͋􎻮ͥ͌􎻮ͥ͐􎻮ͥ͑􎻮ͥ͒􎻮ͥ͗􎻮ͥ͛􎻮ͥͣ􎻮ͥͤ􎻮ͥͥ􎻮ͥͦ􎻮ͥͧ􎻮ͥͨ􎻮ͥͩ􎻮ͥͪ􎻮ͥͫ􎻮ͥͬ􎻮ͥͭ􎻮ͥͮ􎻮ͥͯ􎻮ͥ҃􎻮ͥ҄􎻮ͥ҅􎻮ͥ҆􎻮ͥ҇􎻮ͥ֒􎻮ͥ֓􎻮ͥ֔􎻮ͥ֕􎻮ͥ֗􎻮ͥ֘􎻮ͥ֙􎻮ͥ֜􎻮ͥ֝􎻮ͥ֞􎻮ͥ֟􎻮ͥ֠􎻮ͥ֡􎻮ͥ֨􎻮ͥ֩􎻮ͥ֫􎻮ͥ֬􎻮ͥ֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮ͦ̅􎻮ͦ̍􎻮ͦ̎􎻮ͦ̐􎻮ͦ̒􎻮ͦ̽􎻮ͦ̾􎻮ͦ̿􎻮ͦ͆􎻮ͦ͊􎻮ͦ͋􎻮ͦ͌􎻮ͦ͐􎻮ͦ͑􎻮ͦ͒􎻮ͦ͗􎻮ͦ͛􎻮ͦͣ􎻮ͦͤ􎻮ͦͥ􎻮ͦͦ􎻮ͦͧ􎻮ͦͨ􎻮ͦͩ􎻮ͦͪ􎻮ͦͫ􎻮ͦͬ􎻮ͦͭ􎻮ͦͮ􎻮ͦͯ􎻮ͦ҃􎻮ͦ҄􎻮ͦ҅􎻮ͦ҆􎻮ͦ҇􎻮ͦ֒􎻮ͦ֓􎻮ͦ֔􎻮ͦ֕􎻮ͦ֗􎻮ͦ֘􎻮ͦ֙􎻮ͦ֜􎻮ͦ֝􎻮ͦ֞􎻮ͦ֟􎻮ͦ֠􎻮ͦ֡􎻮ͦ֨􎻮ͦ֩􎻮ͦ֫􎻮ͦ֬􎻮ͦ֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮ͧ̅􎻮ͧ̍􎻮ͧ̎􎻮ͧ̐􎻮ͧ̒􎻮ͧ̽􎻮ͧ̾􎻮ͧ̿􎻮ͧ͆􎻮ͧ͊􎻮ͧ͋􎻮ͧ͌􎻮ͧ͐􎻮ͧ͑􎻮ͧ͒􎻮ͧ͗􎻮ͧ͛􎻮ͧͣ􎻮ͧͤ􎻮ͧͥ􎻮ͧͦ􎻮ͧͧ􎻮ͧͨ􎻮ͧͩ􎻮ͧͪ􎻮ͧͫ􎻮ͧͬ􎻮ͧͭ􎻮ͧͮ􎻮ͧͯ􎻮ͧ҃􎻮ͧ҄􎻮ͧ҅􎻮ͧ҆􎻮ͧ҇􎻮ͧ֒􎻮ͧ֓􎻮ͧ֔􎻮ͧ֕􎻮ͧ֗􎻮ͧ֘􎻮ͧ֙􎻮ͧ֜􎻮ͧ֝􎻮ͧ֞􎻮ͧ֟􎻮ͧ֠􎻮ͧ֡􎻮ͧ֨􎻮ͧ֩􎻮ͧ֫􎻮ͧ֬􎻮ͧ֯[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮ͨ̅􎻮ͨ̍􎻮ͨ̎􎻮ͨ̐􎻮ͨ̒􎻮ͨ̽􎻮ͨ̾􎻮ͨ̿􎻮ͨ͆􎻮ͨ͊􎻮ͨ͋􎻮ͨ͌􎻮ͨ͐􎻮ͨ͑􎻮ͨ͒􎻮ͨ͗􎻮ͨ͛􎻮ͨͣ􎻮ͨͤ􎻮ͨͥ􎻮ͨͦ􎻮ͨͧ􎻮ͨͨ􎻮ͨͩ􎻮ͨͪ􎻮ͨͫ􎻮ͨͬ􎻮ͨͭ􎻮ͨͮ􎻮ͨͯ􎻮ͨ҃􎻮ͨ҄􎻮ͨ҅􎻮ͨ҆􎻮ͨ҇􎻮ͨ֒􎻮ͨ֓􎻮ͨ֔􎻮ͨ֕􎻮ͨ֗􎻮ͨ֘􎻮ͨ֙􎻮ͨ֜􎻮ͨ֝􎻮ͨ֞􎻮ͨ֟􎻮ͨ֠􎻮ͨ֡􎻮ͨ֨􎻮ͨ֩􎻮ͨ֫􎻮ͨ֬􎻮ͨ֯[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮ͩ̅􎻮ͩ̍􎻮ͩ̎􎻮ͩ̐􎻮ͩ̒􎻮ͩ̽􎻮ͩ̾􎻮ͩ̿􎻮ͩ͆􎻮ͩ͊􎻮ͩ͋􎻮ͩ͌􎻮ͩ͐􎻮ͩ͑􎻮ͩ͒􎻮ͩ͗􎻮ͩ͛􎻮ͩͣ􎻮ͩͤ􎻮ͩͥ􎻮ͩͦ􎻮ͩͧ􎻮ͩͨ􎻮ͩͩ􎻮ͩͪ􎻮ͩͫ􎻮ͩͬ􎻮ͩͭ􎻮ͩͮ􎻮ͩͯ􎻮ͩ҃􎻮ͩ҄􎻮ͩ҅􎻮ͩ҆􎻮ͩ҇􎻮ͩ֒􎻮ͩ֓􎻮ͩ֔􎻮ͩ֕􎻮ͩ֗􎻮ͩ֘􎻮ͩ֙􎻮ͩ֜􎻮ͩ֝􎻮ͩ֞􎻮ͩ֟􎻮ͩ֠􎻮ͩ֡􎻮ͩ֨􎻮ͩ֩􎻮ͩ֫􎻮ͩ֬􎻮ͩ֯[0m[53DD

---------- SUBTEST Various ways to specify 1 row ----------

tupimage ./.cli-tests-data/wikipedia.png -r 1
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=1,c=3;[[wikipedia_png?:.*]]\
[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3DD
tupimage -r 1 ./.cli-tests-data/wikipedia.png
[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3DD
tupimage ./.cli-tests-data/wikipedia.png --rows 1
[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3DD

---------- SUBTEST Various ways to specify 1 column ----------

tupimage ./.cli-tests-data/wikipedia.png -c 1
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=1,c=1;[[wikipedia_png?:.*]]\
[0m[38;2;[[rgb(id)]]m􎻮̅̅[0m[1DD
tupimage -c 1 ./.cli-tests-data/wikipedia.png
[0m[38;2;[[rgb(id)]]m􎻮̅̅[0m[1DD
tupimage ./.cli-tests-data/wikipedia.png --cols 1
[0m[38;2;[[rgb(id)]]m􎻮̅̅[0m[1DD

---------- SUBTEST -r from 1 to 5 ----------

[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3DD
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=2,c=5;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒[0m[5DD
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=3,c=7;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾[0m[7DD
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=4,c=9;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆[0m[9DD
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=5,c=11;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆􎻮̐͊􎻮̐͋[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̒̅􎻮̒̍􎻮̒̎􎻮̒̐􎻮̒̒􎻮̒̽􎻮̒̾􎻮̒̿􎻮̒͆􎻮̒͊􎻮̒͋[0m[11DD

---------- SUBTEST -c from 1 to 5 ----------

[0m[38;2;{{.*}}m􎻮̅̅[0m[1DD
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=1,c=2;[[wikipedia_png?:.*]]\
[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍[0m[2DD
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=2,c=3;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎[0m[3DD
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=2,c=4;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐[0m[4DD
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=3,c=5;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒[0m[5DD

---------- SUBTEST Test scaling via -s and --scale ----------

tupimage ./.cli-tests-data/wikipedia.png -s 0.5
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=15,c=32;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋􎻮̍͌􎻮̍͐􎻮̍͑􎻮̍͒􎻮̍͗􎻮̍͛􎻮̍ͣ􎻮̍ͤ􎻮̍ͥ􎻮̍ͦ􎻮̍ͧ􎻮̍ͨ􎻮̍ͩ􎻮̍ͪ􎻮̍ͫ􎻮̍ͬ􎻮̍ͭ􎻮̍ͮ􎻮̍ͯ􎻮̍҃􎻮̍҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋􎻮̎͌􎻮̎͐􎻮̎͑􎻮̎͒􎻮̎͗􎻮̎͛􎻮̎ͣ􎻮̎ͤ􎻮̎ͥ􎻮̎ͦ􎻮̎ͧ􎻮̎ͨ􎻮̎ͩ􎻮̎ͪ􎻮̎ͫ􎻮̎ͬ􎻮̎ͭ􎻮̎ͮ􎻮̎ͯ􎻮̎҃􎻮̎҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆􎻮̐͊􎻮̐͋􎻮̐͌􎻮̐͐􎻮̐͑􎻮̐͒􎻮̐͗􎻮̐͛􎻮̐ͣ􎻮̐ͤ􎻮̐ͥ􎻮̐ͦ􎻮̐ͧ􎻮̐ͨ􎻮̐ͩ􎻮̐ͪ􎻮̐ͫ􎻮̐ͬ􎻮̐ͭ􎻮̐ͮ􎻮̐ͯ􎻮̐҃􎻮̐҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̒̅􎻮̒̍􎻮̒̎􎻮̒̐􎻮̒̒􎻮̒̽􎻮̒̾􎻮̒̿􎻮̒͆􎻮̒͊􎻮̒͋􎻮̒͌􎻮̒͐􎻮̒͑􎻮̒͒􎻮̒͗􎻮̒͛􎻮̒ͣ􎻮̒ͤ􎻮̒ͥ􎻮̒ͦ􎻮̒ͧ􎻮̒ͨ􎻮̒ͩ􎻮̒ͪ􎻮̒ͫ􎻮̒ͬ􎻮̒ͭ􎻮̒ͮ􎻮̒ͯ􎻮̒҃􎻮̒҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̽̅􎻮̽̍􎻮̽̎􎻮̽̐􎻮̽̒􎻮̽̽􎻮̽̾􎻮̽̿􎻮̽͆􎻮̽͊􎻮̽͋􎻮̽͌􎻮̽͐􎻮̽͑􎻮̽͒􎻮̽͗􎻮̽͛􎻮̽ͣ􎻮̽ͤ􎻮̽ͥ􎻮̽ͦ􎻮̽ͧ􎻮̽ͨ􎻮̽ͩ􎻮̽ͪ􎻮̽ͫ􎻮̽ͬ􎻮̽ͭ􎻮̽ͮ􎻮̽ͯ􎻮̽҃􎻮̽҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̾̅􎻮̾̍􎻮̾̎􎻮̾̐􎻮̾̒􎻮̾̽􎻮̾̾􎻮̾̿􎻮̾͆􎻮̾͊􎻮̾͋􎻮̾͌􎻮̾͐􎻮̾͑􎻮̾͒􎻮̾͗􎻮̾͛􎻮̾ͣ􎻮̾ͤ􎻮̾ͥ􎻮̾ͦ􎻮̾ͧ􎻮̾ͨ􎻮̾ͩ􎻮̾ͪ􎻮̾ͫ􎻮̾ͬ􎻮̾ͭ􎻮̾ͮ􎻮̾ͯ􎻮̾҃􎻮̾҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̿̅􎻮̿̍􎻮̿̎􎻮̿̐􎻮̿̒􎻮̿̽􎻮̿̾􎻮̿̿􎻮̿͆􎻮̿͊􎻮̿͋􎻮̿͌􎻮̿͐􎻮̿͑􎻮̿͒􎻮̿͗􎻮̿͛􎻮̿ͣ􎻮̿ͤ􎻮̿ͥ􎻮̿ͦ􎻮̿ͧ􎻮̿ͨ􎻮̿ͩ􎻮̿ͪ􎻮̿ͫ􎻮̿ͬ􎻮̿ͭ􎻮̿ͮ􎻮̿ͯ􎻮̿҃􎻮̿҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͆̅􎻮͆̍􎻮͆̎􎻮͆̐􎻮͆̒􎻮͆̽􎻮͆̾􎻮͆̿􎻮͆͆􎻮͆͊􎻮͆͋􎻮͆͌􎻮͆͐􎻮͆͑􎻮͆͒􎻮͆͗􎻮͆͛􎻮͆ͣ􎻮͆ͤ􎻮͆ͥ􎻮͆ͦ􎻮͆ͧ􎻮͆ͨ􎻮͆ͩ􎻮͆ͪ􎻮͆ͫ􎻮͆ͬ􎻮͆ͭ􎻮͆ͮ􎻮͆ͯ􎻮͆҃􎻮͆҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͊̅􎻮͊̍􎻮͊̎􎻮͊̐􎻮͊̒􎻮͊̽􎻮͊̾􎻮͊̿􎻮͊͆􎻮͊͊􎻮͊͋􎻮͊͌􎻮͊͐􎻮͊͑􎻮͊͒􎻮͊͗􎻮͊͛􎻮͊ͣ􎻮͊ͤ􎻮͊ͥ􎻮͊ͦ􎻮͊ͧ􎻮͊ͨ􎻮͊ͩ􎻮͊ͪ􎻮͊ͫ􎻮͊ͬ􎻮͊ͭ􎻮͊ͮ􎻮͊ͯ􎻮͊҃􎻮͊҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͋̅􎻮͋̍􎻮͋̎􎻮͋̐􎻮͋̒􎻮͋̽􎻮͋̾􎻮͋̿􎻮͋͆􎻮͋͊􎻮͋͋􎻮͋͌􎻮͋͐􎻮͋͑􎻮͋͒􎻮͋͗􎻮͋͛􎻮͋ͣ􎻮͋ͤ􎻮͋ͥ􎻮͋ͦ􎻮͋ͧ􎻮͋ͨ􎻮͋ͩ􎻮͋ͪ􎻮͋ͫ􎻮͋ͬ􎻮͋ͭ􎻮͋ͮ􎻮͋ͯ􎻮͋҃􎻮͋҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͌̅􎻮͌̍􎻮͌̎􎻮͌̐􎻮͌̒􎻮͌̽􎻮͌̾􎻮͌̿􎻮͌͆􎻮͌͊􎻮͌͋􎻮͌͌􎻮͌͐􎻮͌͑􎻮͌͒􎻮͌͗􎻮͌͛􎻮͌ͣ􎻮͌ͤ􎻮͌ͥ􎻮͌ͦ􎻮͌ͧ􎻮͌ͨ􎻮͌ͩ􎻮͌ͪ􎻮͌ͫ􎻮͌ͬ􎻮͌ͭ􎻮͌ͮ􎻮͌ͯ􎻮͌҃􎻮͌҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͐̅􎻮͐̍􎻮͐̎􎻮͐̐􎻮͐̒􎻮͐̽􎻮͐̾􎻮͐̿􎻮͐͆􎻮͐͊􎻮͐͋􎻮͐͌􎻮͐͐􎻮͐͑􎻮͐͒􎻮͐͗􎻮͐͛􎻮͐ͣ􎻮͐ͤ􎻮͐ͥ􎻮͐ͦ􎻮͐ͧ􎻮͐ͨ􎻮͐ͩ􎻮͐ͪ􎻮͐ͫ􎻮͐ͬ􎻮͐ͭ􎻮͐ͮ􎻮͐ͯ􎻮͐҃􎻮͐҄[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮͑̅􎻮͑̍􎻮͑̎􎻮͑̐􎻮͑̒􎻮͑̽􎻮͑̾􎻮͑̿􎻮͑͆􎻮͑͊􎻮͑͋􎻮͑͌􎻮͑͐􎻮͑͑􎻮͑͒􎻮͑͗􎻮͑͛􎻮͑ͣ􎻮͑ͤ􎻮͑ͥ􎻮͑ͦ􎻮͑ͧ􎻮͑ͨ􎻮͑ͩ􎻮͑ͪ􎻮͑ͫ􎻮͑ͬ􎻮͑ͭ􎻮͑ͮ􎻮͑ͯ􎻮͑҃􎻮͑҄[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮͒̅􎻮͒̍􎻮͒̎􎻮͒̐􎻮͒̒􎻮͒̽􎻮͒̾􎻮͒̿􎻮͒͆􎻮͒͊􎻮͒͋􎻮͒͌􎻮͒͐􎻮͒͑􎻮͒͒􎻮͒͗􎻮͒͛􎻮͒ͣ􎻮͒ͤ􎻮͒ͥ􎻮͒ͦ􎻮͒ͧ􎻮͒ͨ􎻮͒ͩ􎻮͒ͪ􎻮͒ͫ􎻮͒ͬ􎻮͒ͭ􎻮͒ͮ􎻮͒ͯ􎻮͒҃􎻮͒҄[0m[32DD
tupimage ./.cli-tests-data/wikipedia.png --scale 0.2
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=6,c=13;[[wikipedia_png?:.*]]\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋􎻮̍͌􎻮̍͐[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋􎻮̎͌􎻮̎͐[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆􎻮̐͊􎻮̐͋􎻮̐͌􎻮̐͐[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̒̅􎻮̒̍􎻮̒̎􎻮̒̐􎻮̒̒􎻮̒̽􎻮̒̾􎻮̒̿􎻮̒͆􎻮̒͊􎻮̒͋􎻮̒͌􎻮̒͐[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̽̅􎻮̽̍􎻮̽̎􎻮̽̐􎻮̽̒􎻮̽̽􎻮̽̾􎻮̽̿􎻮̽͆􎻮̽͊􎻮̽͋􎻮̽͌􎻮̽͐[0m[13DD

---------- SUBTEST Display through file ----------

tupimage ./.cli-tests-data/tux.png -o {{.*}}/tux.txt
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=23,c=38;[[tux_png?:.*]]\
[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇􎻮̅֒􎻮̅֓􎻮̅֔[0m
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋􎻮̍͌􎻮̍͐􎻮̍͑􎻮̍͒􎻮̍͗􎻮̍͛􎻮̍ͣ􎻮̍ͤ􎻮̍ͥ􎻮̍ͦ􎻮̍ͧ􎻮̍ͨ􎻮̍ͩ􎻮̍ͪ􎻮̍ͫ􎻮̍ͬ􎻮̍ͭ􎻮̍ͮ􎻮̍ͯ􎻮̍҃􎻮̍҄􎻮̍҅􎻮̍҆􎻮̍҇􎻮̍֒􎻮̍֓􎻮̍֔[0m
[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋􎻮̎͌􎻮̎͐􎻮̎͑􎻮̎͒􎻮̎͗􎻮̎͛􎻮̎ͣ􎻮̎ͤ􎻮̎ͥ􎻮̎ͦ􎻮̎ͧ􎻮̎ͨ􎻮̎ͩ􎻮̎ͪ􎻮̎ͫ􎻮̎ͬ􎻮̎ͭ􎻮̎ͮ􎻮̎ͯ􎻮̎҃􎻮̎҄􎻮̎҅􎻮̎҆􎻮̎҇􎻮̎֒􎻮̎֓􎻮̎֔[0m
[0m[38;2;[[rgb(id)]]m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆􎻮̐͊􎻮̐͋􎻮̐͌􎻮̐͐􎻮̐͑􎻮̐͒􎻮̐͗􎻮̐͛􎻮̐ͣ􎻮̐ͤ􎻮̐ͥ􎻮̐ͦ􎻮̐ͧ􎻮̐ͨ􎻮̐ͩ􎻮̐ͪ􎻮̐ͫ􎻮̐ͬ􎻮̐ͭ􎻮̐ͮ􎻮̐ͯ􎻮̐҃􎻮̐҄􎻮̐҅􎻮̐҆􎻮̐҇􎻮̐֒􎻮̐֓􎻮̐֔[0m
[0m[38;2;[[rgb(id)]]m􎻮̒̅􎻮̒̍􎻮̒̎􎻮̒̐􎻮̒̒􎻮̒̽􎻮̒̾􎻮̒̿􎻮̒͆􎻮̒͊􎻮̒͋􎻮̒͌􎻮̒͐􎻮̒͑􎻮̒͒􎻮̒͗􎻮̒͛􎻮̒ͣ􎻮̒ͤ􎻮̒ͥ􎻮̒ͦ􎻮̒ͧ􎻮̒ͨ􎻮̒ͩ􎻮̒ͪ􎻮̒ͫ􎻮̒ͬ􎻮̒ͭ􎻮̒ͮ􎻮̒ͯ􎻮̒҃􎻮̒҄􎻮̒҅􎻮̒҆􎻮̒҇􎻮̒֒􎻮̒֓􎻮̒֔[0m
[0m[38;2;[[rgb(id)]]m􎻮̽̅􎻮̽̍􎻮̽̎􎻮̽̐􎻮̽̒􎻮̽̽􎻮̽̾􎻮̽̿􎻮̽͆􎻮̽͊􎻮̽͋􎻮̽͌􎻮̽͐􎻮̽͑􎻮̽͒􎻮̽͗􎻮̽͛􎻮̽ͣ􎻮̽ͤ􎻮̽ͥ􎻮̽ͦ􎻮̽ͧ􎻮̽ͨ􎻮̽ͩ􎻮̽ͪ􎻮̽ͫ􎻮̽ͬ􎻮̽ͭ􎻮̽ͮ􎻮̽ͯ􎻮̽҃􎻮̽҄􎻮̽҅􎻮̽҆􎻮̽҇􎻮̽֒􎻮̽֓􎻮̽֔[0m
[0m[38;2;[[rgb(id)]]m􎻮̾̅􎻮̾̍􎻮̾̎􎻮̾̐􎻮̾̒􎻮̾̽􎻮̾̾􎻮̾̿􎻮̾͆􎻮̾͊􎻮̾͋􎻮̾͌􎻮̾͐􎻮̾͑􎻮̾͒􎻮̾͗􎻮̾͛􎻮̾ͣ􎻮̾ͤ􎻮̾ͥ􎻮̾ͦ􎻮̾ͧ􎻮̾ͨ􎻮̾ͩ􎻮̾ͪ􎻮̾ͫ􎻮̾ͬ􎻮̾ͭ􎻮̾ͮ􎻮̾ͯ􎻮̾҃􎻮̾҄􎻮̾҅􎻮̾҆􎻮̾҇􎻮̾֒􎻮̾֓􎻮̾֔[0m
[0m[38;2;[[rgb(id)]]m􎻮̿̅􎻮̿̍􎻮̿̎􎻮̿̐􎻮̿̒􎻮̿̽􎻮̿̾􎻮̿̿􎻮̿͆􎻮̿͊􎻮̿͋􎻮̿͌􎻮̿͐􎻮̿͑􎻮̿͒􎻮̿͗􎻮̿͛􎻮̿ͣ􎻮̿ͤ􎻮̿ͥ􎻮̿ͦ􎻮̿ͧ􎻮̿ͨ􎻮̿ͩ􎻮̿ͪ􎻮̿ͫ􎻮̿ͬ􎻮̿ͭ􎻮̿ͮ􎻮̿ͯ􎻮̿҃􎻮̿҄􎻮̿҅􎻮̿҆􎻮̿҇􎻮̿֒􎻮̿֓􎻮̿֔[0m
[0m[38;2;[[rgb(id)]]m􎻮͆̅􎻮͆̍􎻮͆̎􎻮͆̐􎻮͆̒􎻮͆̽􎻮͆̾􎻮͆̿􎻮͆͆􎻮͆͊􎻮͆͋􎻮͆͌􎻮͆͐􎻮͆͑􎻮͆͒􎻮͆͗􎻮͆͛􎻮͆ͣ􎻮͆ͤ􎻮͆ͥ􎻮͆ͦ􎻮͆ͧ􎻮͆ͨ􎻮͆ͩ􎻮͆ͪ􎻮͆ͫ􎻮͆ͬ􎻮͆ͭ􎻮͆ͮ􎻮͆ͯ􎻮͆҃􎻮͆҄􎻮͆҅􎻮͆҆􎻮͆҇􎻮͆֒􎻮͆֓􎻮͆֔[0m
[0m[38;2;[[rgb(id)]]m􎻮͊̅􎻮͊̍􎻮͊̎􎻮͊̐􎻮͊̒􎻮͊̽􎻮͊̾􎻮͊̿􎻮͊͆􎻮͊͊􎻮͊͋􎻮͊͌􎻮͊͐􎻮͊͑􎻮͊͒􎻮͊͗􎻮͊͛􎻮͊ͣ􎻮͊ͤ􎻮͊ͥ􎻮͊ͦ􎻮͊ͧ􎻮͊ͨ􎻮͊ͩ􎻮͊ͪ􎻮͊ͫ􎻮͊ͬ􎻮͊ͭ􎻮͊ͮ􎻮͊ͯ􎻮͊҃􎻮͊҄􎻮͊҅􎻮͊҆􎻮͊҇􎻮͊֒􎻮͊֓􎻮͊֔[0m
[0m[38;2;[[rgb(id)]]m􎻮͋̅􎻮͋̍􎻮͋̎􎻮͋̐􎻮͋̒􎻮͋̽􎻮͋̾􎻮͋̿􎻮͋͆􎻮͋͊􎻮͋͋􎻮͋͌􎻮͋͐􎻮͋͑􎻮͋͒􎻮͋͗􎻮͋͛􎻮͋ͣ􎻮͋ͤ􎻮͋ͥ􎻮͋ͦ􎻮͋ͧ􎻮͋ͨ􎻮͋ͩ􎻮͋ͪ􎻮͋ͫ􎻮͋ͬ􎻮͋ͭ􎻮͋ͮ􎻮͋ͯ􎻮͋҃􎻮͋҄􎻮͋҅􎻮͋҆􎻮͋҇􎻮͋֒􎻮͋֓􎻮͋֔[0m
[0m[38;2;[[rgb(id)]]m􎻮͌̅􎻮͌̍􎻮͌̎􎻮͌̐􎻮͌̒􎻮͌̽􎻮͌̾􎻮͌̿􎻮͌͆􎻮͌͊􎻮͌͋􎻮͌͌􎻮͌͐􎻮͌͑􎻮͌͒􎻮͌͗􎻮͌͛􎻮͌ͣ􎻮͌ͤ􎻮͌ͥ􎻮͌ͦ􎻮͌ͧ􎻮͌ͨ􎻮͌ͩ􎻮͌ͪ􎻮͌ͫ􎻮͌ͬ􎻮͌ͭ􎻮͌ͮ􎻮͌ͯ􎻮͌҃􎻮͌҄􎻮͌҅􎻮͌҆􎻮͌҇􎻮͌֒􎻮͌֓􎻮͌֔[0m
[0m[38;2;[[rgb(id)]]m􎻮͐̅􎻮͐̍􎻮͐̎􎻮͐̐􎻮͐̒􎻮͐̽􎻮͐̾􎻮͐̿􎻮͐͆􎻮͐͊􎻮͐͋􎻮͐͌􎻮͐͐􎻮͐͑􎻮͐͒􎻮͐͗􎻮͐͛􎻮͐ͣ􎻮͐ͤ􎻮͐ͥ􎻮͐ͦ􎻮͐ͧ􎻮͐ͨ􎻮͐ͩ􎻮͐ͪ􎻮͐ͫ􎻮͐ͬ􎻮͐ͭ􎻮͐ͮ􎻮͐ͯ􎻮͐҃􎻮͐҄􎻮͐҅􎻮͐҆􎻮͐҇􎻮͐֒􎻮͐֓􎻮͐֔[0m
[0m[38;2;[[rgb(id)]]m􎻮͑̅􎻮͑̍􎻮͑̎􎻮͑̐􎻮͑̒􎻮͑̽􎻮͑̾􎻮͑̿􎻮͑͆􎻮͑͊􎻮͑͋􎻮͑͌􎻮͑͐􎻮͑͑􎻮͑͒􎻮͑͗􎻮͑͛􎻮͑ͣ􎻮͑ͤ􎻮͑ͥ􎻮͑ͦ􎻮͑ͧ􎻮͑ͨ􎻮͑ͩ􎻮͑ͪ􎻮͑ͫ􎻮͑ͬ􎻮͑ͭ􎻮͑ͮ􎻮͑ͯ􎻮͑҃􎻮͑҄􎻮͑҅􎻮͑҆􎻮͑҇􎻮͑֒􎻮͑֓􎻮͑֔[0m
[0m[38;2;[[rgb(id)]]m􎻮͒̅􎻮͒̍􎻮͒̎􎻮͒̐􎻮͒̒􎻮͒̽􎻮͒̾􎻮͒̿􎻮͒͆􎻮͒͊􎻮͒͋􎻮͒͌􎻮͒͐􎻮͒͑􎻮͒͒􎻮͒͗􎻮͒͛􎻮͒ͣ􎻮͒ͤ􎻮͒ͥ􎻮͒ͦ􎻮͒ͧ􎻮͒ͨ􎻮͒ͩ􎻮͒ͪ􎻮͒ͫ􎻮͒ͬ􎻮͒ͭ􎻮͒ͮ􎻮͒ͯ􎻮͒҃􎻮͒҄􎻮͒҅􎻮͒҆􎻮͒҇􎻮͒֒􎻮͒֓􎻮͒֔[0m
[0m[38;2;[[rgb(id)]]m􎻮͗̅􎻮͗̍􎻮͗̎􎻮͗̐􎻮͗̒􎻮͗̽􎻮͗̾􎻮͗̿􎻮͗͆􎻮͗͊􎻮͗͋􎻮͗͌􎻮͗͐􎻮͗͑􎻮͗͒􎻮͗͗􎻮͗͛􎻮͗ͣ􎻮͗ͤ􎻮͗ͥ􎻮͗ͦ􎻮͗ͧ􎻮͗ͨ􎻮͗ͩ􎻮͗ͪ􎻮͗ͫ􎻮͗ͬ􎻮͗ͭ􎻮͗ͮ􎻮͗ͯ􎻮͗҃􎻮͗҄􎻮͗҅􎻮͗҆􎻮͗҇􎻮͗֒􎻮͗֓􎻮͗֔[0m
[0m[38;2;[[rgb(id)]]m􎻮͛̅􎻮͛̍􎻮͛̎􎻮͛̐􎻮͛̒􎻮͛̽􎻮͛̾􎻮͛̿􎻮͛͆􎻮͛͊􎻮͛͋􎻮͛͌􎻮͛͐􎻮͛͑􎻮͛͒􎻮͛͗􎻮͛͛􎻮͛ͣ􎻮͛ͤ􎻮͛ͥ􎻮͛ͦ􎻮͛ͧ􎻮͛ͨ􎻮͛ͩ􎻮͛ͪ􎻮͛ͫ􎻮͛ͬ􎻮͛ͭ􎻮͛ͮ􎻮͛ͯ􎻮͛҃􎻮͛҄􎻮͛҅􎻮͛҆􎻮͛҇􎻮͛֒􎻮͛֓􎻮͛֔[0m
[0m[38;2;[[rgb(id)]]m􎻮ͣ̅􎻮ͣ̍􎻮ͣ̎􎻮ͣ̐􎻮ͣ̒􎻮ͣ̽􎻮ͣ̾􎻮ͣ̿􎻮ͣ͆􎻮ͣ͊􎻮ͣ͋􎻮ͣ͌􎻮ͣ͐􎻮ͣ͑􎻮ͣ͒􎻮ͣ͗􎻮ͣ͛􎻮ͣͣ􎻮ͣͤ􎻮ͣͥ􎻮ͣͦ􎻮ͣͧ􎻮ͣͨ􎻮ͣͩ􎻮ͣͪ􎻮ͣͫ􎻮ͣͬ􎻮ͣͭ􎻮ͣͮ􎻮ͣͯ􎻮ͣ҃􎻮ͣ҄􎻮ͣ҅􎻮ͣ҆􎻮ͣ҇􎻮ͣ֒􎻮ͣ֓􎻮ͣ֔[0m
[0m[38;2;[[rgb(id)]]m􎻮ͤ̅􎻮ͤ̍􎻮ͤ̎􎻮ͤ̐􎻮ͤ̒􎻮ͤ̽􎻮ͤ̾􎻮ͤ̿􎻮ͤ͆􎻮ͤ͊􎻮ͤ͋􎻮ͤ͌􎻮ͤ͐􎻮ͤ͑􎻮ͤ͒􎻮ͤ͗􎻮ͤ͛􎻮ͤͣ􎻮ͤͤ􎻮ͤͥ􎻮ͤͦ􎻮ͤͧ􎻮ͤͨ􎻮ͤͩ􎻮ͤͪ􎻮ͤͫ􎻮ͤͬ􎻮ͤͭ􎻮ͤͮ􎻮ͤͯ􎻮ͤ҃􎻮ͤ҄􎻮ͤ҅􎻮ͤ҆􎻮ͤ҇􎻮ͤ֒􎻮ͤ֓􎻮ͤ֔[0m
[0m[38;2;[[rgb(id)]]m􎻮ͥ̅􎻮ͥ̍􎻮ͥ̎􎻮ͥ̐􎻮ͥ̒􎻮ͥ̽􎻮ͥ̾􎻮ͥ̿􎻮ͥ͆􎻮ͥ͊􎻮ͥ͋􎻮ͥ͌􎻮ͥ͐􎻮ͥ͑􎻮ͥ͒􎻮ͥ͗􎻮ͥ͛􎻮ͥͣ􎻮ͥͤ􎻮ͥͥ􎻮ͥͦ􎻮ͥͧ􎻮ͥͨ􎻮ͥͩ􎻮ͥͪ􎻮ͥͫ􎻮ͥͬ􎻮ͥͭ􎻮ͥͮ􎻮ͥͯ􎻮ͥ҃􎻮ͥ҄􎻮ͥ҅􎻮ͥ҆􎻮ͥ҇􎻮ͥ֒􎻮ͥ֓􎻮ͥ֔[0m
[0m[38;2;[[rgb(id)]]m􎻮ͦ̅􎻮ͦ̍􎻮ͦ̎􎻮ͦ̐􎻮ͦ̒􎻮ͦ̽􎻮ͦ̾􎻮ͦ̿􎻮ͦ͆􎻮ͦ͊􎻮ͦ͋􎻮ͦ͌􎻮ͦ͐􎻮ͦ͑􎻮ͦ͒􎻮ͦ͗􎻮ͦ͛􎻮ͦͣ􎻮ͦͤ􎻮ͦͥ􎻮ͦͦ􎻮ͦͧ􎻮ͦͨ􎻮ͦͩ􎻮ͦͪ􎻮ͦͫ􎻮ͦͬ􎻮ͦͭ􎻮ͦͮ􎻮ͦͯ􎻮ͦ҃􎻮ͦ҄􎻮ͦ҅􎻮ͦ҆􎻮ͦ҇􎻮ͦ֒􎻮ͦ֓􎻮ͦ֔[0m
[0m[38;2;[[rgb(id)]]m􎻮ͧ̅􎻮ͧ̍􎻮ͧ̎􎻮ͧ̐􎻮ͧ̒􎻮ͧ̽􎻮ͧ̾􎻮ͧ̿􎻮ͧ͆􎻮ͧ͊􎻮ͧ͋􎻮ͧ͌􎻮ͧ͐􎻮ͧ͑􎻮ͧ͒􎻮ͧ͗􎻮ͧ͛􎻮ͧͣ􎻮ͧͤ􎻮ͧͥ􎻮ͧͦ􎻮ͧͧ􎻮ͧͨ􎻮ͧͩ􎻮ͧͪ􎻮ͧͫ􎻮ͧͬ􎻮ͧͭ􎻮ͧͮ􎻮ͧͯ􎻮ͧ҃􎻮ͧ҄􎻮ͧ҅􎻮ͧ҆􎻮ͧ҇􎻮ͧ֒􎻮ͧ֓􎻮ͧ֔[0m
[0m[38;2;[[rgb(id)]]m􎻮ͨ̅􎻮ͨ̍􎻮ͨ̎􎻮ͨ̐􎻮ͨ̒􎻮ͨ̽􎻮ͨ̾􎻮ͨ̿􎻮ͨ͆􎻮ͨ͊􎻮ͨ͋􎻮ͨ͌􎻮ͨ͐􎻮ͨ͑􎻮ͨ͒􎻮ͨ͗􎻮ͨ͛􎻮ͨͣ􎻮ͨͤ􎻮ͨͥ􎻮ͨͦ􎻮ͨͧ􎻮ͨͨ􎻮ͨͩ􎻮ͨͪ􎻮ͨͫ􎻮ͨͬ􎻮ͨͭ􎻮ͨͮ􎻮ͨͯ􎻮ͨ҃􎻮ͨ҄􎻮ͨ҅􎻮ͨ҆􎻮ͨ҇􎻮ͨ֒􎻮ͨ֓􎻮ͨ֔[0m

---------- SUBTEST Display through pipe ----------

tupimage ./.cli-tests-data/wikipedia.png -r 2
[0m[38;2;[[wr2id:.*]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒[0m
[0m[38;2;[[wr2id]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒[0m
tupimage list -v
[1mID: [[id:.*]][0m = 0x{{.*}} id_space: 24bit subspace_byte: {{.*}} = {{.*}} atime: {{.*}} ({{.*}} seconds ago)
  {"path": "{{.*}}", "mtime": {{.*}}, "cols": 5, "rows": 2}
  Uploaded to st-256color-{{.*}} at {{.*}} ({{.*}} seconds ago)  size: {{.*}} bytes bytes_ago: {{.*}} uploads_ago: {{.*}}
[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒[0m
[0m[38;2;[[wr2id]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒[0m
--------------------------------------------------------------------------------
[1mID: [[id:.*]][0m{{.*}}
  {"path": "{{.*}}", "mtime": {{.*}}, "cols": 38, "rows": 23}
  Uploaded to {{.*}}
[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇􎻮̅֒􎻮̅֓􎻮̅֔[0m

---------- SUBTEST Display with use-line-feeds ----------

tupimage ./.cli-tests-data/wikipedia.png -r 2 --use-line-feeds=yes
[0m[38;2;[[wr2id]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒[0m
[0m[38;2;[[wr2id]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒[0m

========== TEST Scaling ==========


---------- SUBTEST Global scale 0.5 via config ----------

_G{{.*}}\
1

---------- SUBTEST Global scale 0.5 with CLI scale 2 (total 1.0) ----------

_G{{.*}}\
2

---------- SUBTEST scale 0.5 via config ----------

1

---------- SUBTEST scale 0.5 via config overridden by CLI scale 2 ----------

_G{{.*}}\
3

---------- SUBTEST combining env var scaling TUPIMAGE_GLOBAL_SCALE=0.1 TUPIMAGE_SCALE=20 ----------

3

========== TEST Max rows/cols and multiple images ==========


---------- SUBTEST Max cols ----------

tupimage ./.cli-tests-data/wikipedia.png ./.cli-tests-data/small_arrow.png --max-cols 3
_Gi={{.*}},t=f,q=2,f=100,a=T,U=1,r=2,c=3;{{.*}}\
[s[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎[0m[uD
[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎[0m[3D
_Gi={{.*}},t=f,q=2,f=100,a=T,U=1,r=2,c=2;{{.*}}\
D
[s[0m[38;2;[[arrow_id?:.*]]m􎻮̅̅􎻮̅̍[0m[uD
[0m[38;2;[[arrow_id?:.*]]m􎻮̍̅􎻮̍̍[0m[2DD

---------- SUBTEST Max rows ----------

tupimage ./.cli-tests-data/wikipedia.png ./.cli-tests-data/small_arrow.png --max-rows 3
_Gi={{.*}},t=f,q=2,f=100,a=T,U=1,r=3,c=7;{{.*}}\
[s[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾[0m[uD
[s[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾[0m[uD
[0m[38;2;{{.*}}m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾[0m[7DD
[s[0m[38;2;[[arrow_id?:.*]]m􎻮̅̅􎻮̅̍[0m[uD
[0m[38;2;[[arrow_id?:.*]]m􎻮̍̅􎻮̍̍[0m[2DD

---------- SUBTEST Max rows and cols ----------

tupimage display ./.cli-tests-data/wikipedia.png ./.cli-tests-data/column.png --max-cols=3 --max-rows=4
[s[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎[0m[uD
[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎[0m[3D
_Gi={{.*}},t=f,q=2,f=100,a=T,U=1,r=4,c=3;{{.*}}\
D
[s[0m[38;2;[[column_id?:.*]]m􎻮̅̅􎻮̅̍􎻮̅̎[0m[uD
[s[0m[38;2;[[column_id?:.*]]m􎻮̍̅􎻮̍̍􎻮̍̎[0m[uD
[s[0m[38;2;[[column_id?:.*]]m􎻮̎̅􎻮̎̍􎻮̎̎[0m[uD
[0m[38;2;[[column_id?:.*]]m􎻮̐̅􎻮̐̍􎻮̐̎[0m[3DD

========== TEST Separate id assignment and uploading ==========


---------- SUBTEST No upload and force upload cannot be used together ----------

tupimage ./.cli-tests-data/wikipedia.png --no-upload --force-upload
{{:SKIP_LINES:}}
tupimage display: error: argument --force-upload/-f: not allowed with argument --no-upload/-n
Exit code: 2

---------- SUBTEST Upload, upload, force upload ----------

tupimage upload ./.cli-tests-data/wikipedia.png
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=24,c=53;[[data:.*]]\
tupimage upload ./.cli-tests-data/wikipedia.png
tupimage upload ./.cli-tests-data/wikipedia.png --force-upload
_Gi=[[id]],t=f,q=2,f=100,a=T,U=1,r=24,c=53;[[data]]\

---------- SUBTEST Alloc ID, then upload and display ----------

tupimage display [[id:.*]]
_Gi=[[id]],t=f,q=2,f=100,a=T,U=1,r=2,c=4;{{.*}}\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐[0m[4DD

---------- SUBTEST Alloc ID, then display, then upload ----------

tupimage display [[id:.*]] --no-upload
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒[0m[5DD
tupimage upload [[id]]
_Gi=[[id]],t=f,q=2,f=100,a=T,U=1,r=3,c=5;{{.*}}\

---------- SUBTEST Alloc ID, then display, then upload by filename ----------

[[id:.*]]
tupimage display ./.cli-tests-data/small_arrow.png -r 4 --no-upload
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾[0m[7DD
tupimage upload ./.cli-tests-data/small_arrow.png -r 4
_Gi=[[id]],t=f,q=2,f=100,a=T,U=1,r=4,c=7;{{.*}}\

---------- SUBTEST The placeholder command ----------

[[id:.*]]
tupimage placeholder [[id]] -r 3 -c 50
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇􎻮̅֒􎻮̅֓􎻮̅֔􎻮̅֕􎻮̅֗􎻮̅֘􎻮̅֙􎻮̅֜􎻮̅֝􎻮̅֞􎻮̅֟􎻮̅֠􎻮̅֡􎻮̅֨􎻮̅֩[0m[uD
[s[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋􎻮̍͌􎻮̍͐􎻮̍͑􎻮̍͒􎻮̍͗􎻮̍͛􎻮̍ͣ􎻮̍ͤ􎻮̍ͥ􎻮̍ͦ􎻮̍ͧ􎻮̍ͨ􎻮̍ͩ􎻮̍ͪ􎻮̍ͫ􎻮̍ͬ􎻮̍ͭ􎻮̍ͮ􎻮̍ͯ􎻮̍҃􎻮̍҄􎻮̍҅􎻮̍҆􎻮̍҇􎻮̍֒􎻮̍֓􎻮̍֔􎻮̍֕􎻮̍֗􎻮̍֘􎻮̍֙􎻮̍֜􎻮̍֝􎻮̍֞􎻮̍֟􎻮̍֠􎻮̍֡􎻮̍֨􎻮̍֩[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋􎻮̎͌􎻮̎͐􎻮̎͑􎻮̎͒􎻮̎͗􎻮̎͛􎻮̎ͣ􎻮̎ͤ􎻮̎ͥ􎻮̎ͦ􎻮̎ͧ􎻮̎ͨ􎻮̎ͩ􎻮̎ͪ􎻮̎ͫ􎻮̎ͬ􎻮̎ͭ􎻮̎ͮ􎻮̎ͯ􎻮̎҃􎻮̎҄􎻮̎҅􎻮̎҆􎻮̎҇􎻮̎֒􎻮̎֓􎻮̎֔􎻮̎֕􎻮̎֗􎻮̎֘􎻮̎֙􎻮̎֜􎻮̎֝􎻮̎֞􎻮̎֟􎻮̎֠􎻮̎֡􎻮̎֨􎻮̎֩[0m[50DD

========== TEST Multiple images ==========


---------- SUBTEST Display multiple images ----------

tupimage ./.cli-tests-data/wikipedia.png ./.cli-tests-data/small_arrow.png
_Gi=[[id_wikipedia:.*]],t=f,q=2,f=100,a=T,U=1,r=24,c=53;[[data_wikipedia:.*]]\
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇􎻮̅֒􎻮̅֓􎻮̅֔􎻮̅֕􎻮̅֗􎻮̅֘􎻮̅֙􎻮̅֜􎻮̅֝􎻮̅֞􎻮̅֟􎻮̅֠􎻮̅֡􎻮̅֨􎻮̅֩􎻮̅֫􎻮̅֬􎻮̅֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋􎻮̍͌􎻮̍͐􎻮̍͑􎻮̍͒􎻮̍͗􎻮̍͛􎻮̍ͣ􎻮̍ͤ􎻮̍ͥ􎻮̍ͦ􎻮̍ͧ􎻮̍ͨ􎻮̍ͩ􎻮̍ͪ􎻮̍ͫ􎻮̍ͬ􎻮̍ͭ􎻮̍ͮ􎻮̍ͯ􎻮̍҃􎻮̍҄􎻮̍҅􎻮̍҆􎻮̍҇􎻮̍֒􎻮̍֓􎻮̍֔􎻮̍֕􎻮̍֗􎻮̍֘􎻮̍֙􎻮̍֜􎻮̍֝􎻮̍֞􎻮̍֟􎻮̍֠􎻮̍֡􎻮̍֨􎻮̍֩􎻮̍֫􎻮̍֬􎻮̍֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋􎻮̎͌􎻮̎͐􎻮̎͑􎻮̎͒􎻮̎͗􎻮̎͛􎻮̎ͣ􎻮̎ͤ􎻮̎ͥ􎻮̎ͦ􎻮̎ͧ􎻮̎ͨ􎻮̎ͩ􎻮̎ͪ􎻮̎ͫ􎻮̎ͬ􎻮̎ͭ􎻮̎ͮ􎻮̎ͯ􎻮̎҃􎻮̎҄􎻮̎҅􎻮̎҆􎻮̎҇􎻮̎֒􎻮̎֓􎻮̎֔􎻮̎֕􎻮̎֗􎻮̎֘􎻮̎֙􎻮̎֜􎻮̎֝􎻮̎֞􎻮̎֟􎻮̎֠􎻮̎֡􎻮̎֨􎻮̎֩􎻮̎֫􎻮̎֬􎻮̎֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆􎻮̐͊􎻮̐͋􎻮̐͌􎻮̐͐􎻮̐͑􎻮̐͒􎻮̐͗􎻮̐͛􎻮̐ͣ􎻮̐ͤ􎻮̐ͥ􎻮̐ͦ􎻮̐ͧ􎻮̐ͨ􎻮̐ͩ􎻮̐ͪ􎻮̐ͫ􎻮̐ͬ􎻮̐ͭ􎻮̐ͮ􎻮̐ͯ􎻮̐҃􎻮̐҄􎻮̐҅􎻮̐҆􎻮̐҇􎻮̐֒􎻮̐֓􎻮̐֔􎻮̐֕􎻮̐֗􎻮̐֘􎻮̐֙􎻮̐֜􎻮̐֝􎻮̐֞􎻮̐֟􎻮̐֠􎻮̐֡􎻮̐֨􎻮̐֩􎻮̐֫􎻮̐֬􎻮̐֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮̒̅􎻮̒̍􎻮̒̎􎻮̒̐􎻮̒̒􎻮̒̽􎻮̒̾􎻮̒̿􎻮̒͆􎻮̒͊􎻮̒͋􎻮̒͌􎻮̒͐􎻮̒͑􎻮̒͒􎻮̒͗􎻮̒͛􎻮̒ͣ􎻮̒ͤ􎻮̒ͥ􎻮̒ͦ􎻮̒ͧ􎻮̒ͨ􎻮̒ͩ􎻮̒ͪ􎻮̒ͫ􎻮̒ͬ􎻮̒ͭ􎻮̒ͮ􎻮̒ͯ􎻮̒҃􎻮̒҄􎻮̒҅􎻮̒҆􎻮̒҇􎻮̒֒􎻮̒֓􎻮̒֔􎻮̒֕􎻮̒֗􎻮̒֘􎻮̒֙􎻮̒֜􎻮̒֝􎻮̒֞􎻮̒֟􎻮̒֠􎻮̒֡􎻮̒֨􎻮̒֩􎻮̒֫􎻮̒֬􎻮̒֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮̽̅􎻮̽̍􎻮̽̎􎻮̽̐􎻮̽̒􎻮̽̽􎻮̽̾􎻮̽̿􎻮̽͆􎻮̽͊􎻮̽͋􎻮̽͌􎻮̽͐􎻮̽͑􎻮̽͒􎻮̽͗􎻮̽͛􎻮̽ͣ􎻮̽ͤ􎻮̽ͥ􎻮̽ͦ􎻮̽ͧ􎻮̽ͨ􎻮̽ͩ􎻮̽ͪ􎻮̽ͫ􎻮̽ͬ􎻮̽ͭ􎻮̽ͮ􎻮̽ͯ􎻮̽҃􎻮̽҄􎻮̽҅􎻮̽҆􎻮̽҇􎻮̽֒􎻮̽֓􎻮̽֔􎻮̽֕􎻮̽֗􎻮̽֘􎻮̽֙􎻮̽֜􎻮̽֝􎻮̽֞􎻮̽֟􎻮̽֠􎻮̽֡􎻮̽֨􎻮̽֩􎻮̽֫􎻮̽֬􎻮̽֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮̾̅􎻮̾̍􎻮̾̎􎻮̾̐􎻮̾̒􎻮̾̽􎻮̾̾􎻮̾̿􎻮̾͆􎻮̾͊􎻮̾͋􎻮̾͌􎻮̾͐􎻮̾͑􎻮̾͒􎻮̾͗􎻮̾͛􎻮̾ͣ􎻮̾ͤ􎻮̾ͥ􎻮̾ͦ􎻮̾ͧ􎻮̾ͨ􎻮̾ͩ􎻮̾ͪ􎻮̾ͫ􎻮̾ͬ􎻮̾ͭ􎻮̾ͮ􎻮̾ͯ􎻮̾҃􎻮̾҄􎻮̾҅􎻮̾҆􎻮̾҇􎻮̾֒􎻮̾֓􎻮̾֔􎻮̾֕􎻮̾֗􎻮̾֘􎻮̾֙􎻮̾֜􎻮̾֝􎻮̾֞􎻮̾֟􎻮̾֠􎻮̾֡􎻮̾֨􎻮̾֩􎻮̾֫􎻮̾֬􎻮̾֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮̿̅􎻮̿̍􎻮̿̎􎻮̿̐􎻮̿̒􎻮̿̽􎻮̿̾􎻮̿̿􎻮̿͆􎻮̿͊􎻮̿͋􎻮̿͌􎻮̿͐􎻮̿͑􎻮̿͒􎻮̿͗􎻮̿͛􎻮̿ͣ􎻮̿ͤ􎻮̿ͥ􎻮̿ͦ􎻮̿ͧ􎻮̿ͨ􎻮̿ͩ􎻮̿ͪ􎻮̿ͫ􎻮̿ͬ􎻮̿ͭ􎻮̿ͮ􎻮̿ͯ􎻮̿҃􎻮̿҄􎻮̿҅􎻮̿҆􎻮̿҇􎻮̿֒􎻮̿֓􎻮̿֔􎻮̿֕􎻮̿֗􎻮̿֘􎻮̿֙􎻮̿֜􎻮̿֝􎻮̿֞􎻮̿֟􎻮̿֠􎻮̿֡􎻮̿֨􎻮̿֩􎻮̿֫􎻮̿֬􎻮̿֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮͆̅􎻮͆̍􎻮͆̎􎻮͆̐􎻮͆̒􎻮͆̽􎻮͆̾􎻮͆̿􎻮͆͆􎻮͆͊􎻮͆͋􎻮͆͌􎻮͆͐􎻮͆͑􎻮͆͒􎻮͆͗􎻮͆͛􎻮͆ͣ􎻮͆ͤ􎻮͆ͥ􎻮͆ͦ􎻮͆ͧ􎻮͆ͨ􎻮͆ͩ􎻮͆ͪ􎻮͆ͫ􎻮͆ͬ􎻮͆ͭ􎻮͆ͮ􎻮͆ͯ􎻮͆҃􎻮͆҄􎻮͆҅􎻮͆҆􎻮͆҇􎻮͆֒􎻮͆֓􎻮͆֔􎻮͆֕􎻮͆֗􎻮͆֘􎻮͆֙􎻮͆֜􎻮͆֝􎻮͆֞􎻮͆֟􎻮͆֠􎻮͆֡􎻮͆֨􎻮͆֩􎻮͆֫􎻮͆֬􎻮͆֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮͊̅􎻮͊̍􎻮͊̎􎻮͊̐􎻮͊̒􎻮͊̽􎻮͊̾􎻮͊̿􎻮͊͆􎻮͊͊􎻮͊͋􎻮͊͌􎻮͊͐􎻮͊͑􎻮͊͒􎻮͊͗􎻮͊͛􎻮͊ͣ􎻮͊ͤ􎻮͊ͥ􎻮͊ͦ􎻮͊ͧ􎻮͊ͨ􎻮͊ͩ􎻮͊ͪ􎻮͊ͫ􎻮͊ͬ􎻮͊ͭ􎻮͊ͮ􎻮͊ͯ􎻮͊҃􎻮͊҄􎻮͊҅􎻮͊҆􎻮͊҇􎻮͊֒􎻮͊֓􎻮͊֔􎻮͊֕􎻮͊֗􎻮͊֘􎻮͊֙􎻮͊֜􎻮͊֝􎻮͊֞􎻮͊֟􎻮͊֠􎻮͊֡􎻮͊֨􎻮͊֩􎻮͊֫􎻮͊֬􎻮͊֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮͋̅􎻮͋̍􎻮͋̎􎻮͋̐􎻮͋̒􎻮͋̽􎻮͋̾􎻮͋̿􎻮͋͆􎻮͋͊􎻮͋͋􎻮͋͌􎻮͋͐􎻮͋͑􎻮͋͒􎻮͋͗􎻮͋͛􎻮͋ͣ􎻮͋ͤ􎻮͋ͥ􎻮͋ͦ􎻮͋ͧ􎻮͋ͨ􎻮͋ͩ􎻮͋ͪ􎻮͋ͫ􎻮͋ͬ􎻮͋ͭ􎻮͋ͮ􎻮͋ͯ􎻮͋҃􎻮͋҄􎻮͋҅􎻮͋҆􎻮͋҇􎻮͋֒􎻮͋֓􎻮͋֔􎻮͋֕􎻮͋֗􎻮͋֘􎻮͋֙􎻮͋֜􎻮͋֝􎻮͋֞􎻮͋֟􎻮͋֠􎻮͋֡􎻮͋֨􎻮͋֩􎻮͋֫􎻮͋֬􎻮͋֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮͌̅􎻮͌̍􎻮͌̎􎻮͌̐􎻮͌̒􎻮͌̽􎻮͌̾􎻮͌̿􎻮͌͆􎻮͌͊􎻮͌͋􎻮͌͌􎻮͌͐􎻮͌͑􎻮͌͒􎻮͌͗􎻮͌͛􎻮͌ͣ􎻮͌ͤ􎻮͌ͥ􎻮͌ͦ􎻮͌ͧ􎻮͌ͨ􎻮͌ͩ􎻮͌ͪ􎻮͌ͫ􎻮͌ͬ􎻮͌ͭ􎻮͌ͮ􎻮͌ͯ􎻮͌҃􎻮͌҄􎻮͌҅􎻮͌҆􎻮͌҇􎻮͌֒􎻮͌֓􎻮͌֔􎻮͌֕􎻮͌֗􎻮͌֘􎻮͌֙􎻮͌֜􎻮͌֝􎻮͌֞􎻮͌֟􎻮͌֠􎻮͌֡􎻮͌֨􎻮͌֩􎻮͌֫􎻮͌֬􎻮͌֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮͐̅􎻮͐̍􎻮͐̎􎻮͐̐􎻮͐̒􎻮͐̽􎻮͐̾􎻮͐̿􎻮͐͆􎻮͐͊􎻮͐͋􎻮͐͌􎻮͐͐􎻮͐͑􎻮͐͒􎻮͐͗􎻮͐͛􎻮͐ͣ􎻮͐ͤ􎻮͐ͥ􎻮͐ͦ􎻮͐ͧ􎻮͐ͨ􎻮͐ͩ􎻮͐ͪ􎻮͐ͫ􎻮͐ͬ􎻮͐ͭ􎻮͐ͮ􎻮͐ͯ􎻮͐҃􎻮͐҄􎻮͐҅􎻮͐҆􎻮͐҇􎻮͐֒􎻮͐֓􎻮͐֔􎻮͐֕􎻮͐֗􎻮͐֘􎻮͐֙􎻮͐֜􎻮͐֝􎻮͐֞􎻮͐֟􎻮͐֠􎻮͐֡􎻮͐֨􎻮͐֩􎻮͐֫􎻮͐֬􎻮͐֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮͑̅􎻮͑̍􎻮͑̎􎻮͑̐􎻮͑̒􎻮͑̽􎻮͑̾􎻮͑̿􎻮͑͆􎻮͑͊􎻮͑͋􎻮͑͌􎻮͑͐􎻮͑͑􎻮͑͒􎻮͑͗􎻮͑͛􎻮͑ͣ􎻮͑ͤ􎻮͑ͥ􎻮͑ͦ􎻮͑ͧ􎻮͑ͨ􎻮͑ͩ􎻮͑ͪ􎻮͑ͫ􎻮͑ͬ􎻮͑ͭ􎻮͑ͮ􎻮͑ͯ􎻮͑҃􎻮͑҄􎻮͑҅􎻮͑҆􎻮͑҇􎻮͑֒􎻮͑֓􎻮͑֔􎻮͑֕􎻮͑֗􎻮͑֘􎻮͑֙􎻮͑֜􎻮͑֝􎻮͑֞􎻮͑֟􎻮͑֠􎻮͑֡􎻮͑֨􎻮͑֩􎻮͑֫􎻮͑֬􎻮͑֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮͒̅􎻮͒̍􎻮͒̎􎻮͒̐􎻮͒̒􎻮͒̽􎻮͒̾􎻮͒̿􎻮͒͆􎻮͒͊􎻮͒͋􎻮͒͌􎻮͒͐􎻮͒͑􎻮͒͒􎻮͒͗􎻮͒͛􎻮͒ͣ􎻮͒ͤ􎻮͒ͥ􎻮͒ͦ􎻮͒ͧ􎻮͒ͨ􎻮͒ͩ􎻮͒ͪ􎻮͒ͫ􎻮͒ͬ􎻮͒ͭ􎻮͒ͮ􎻮͒ͯ􎻮͒҃􎻮͒҄􎻮͒҅􎻮͒҆􎻮͒҇􎻮͒֒􎻮͒֓􎻮͒֔􎻮͒֕􎻮͒֗􎻮͒֘􎻮͒֙􎻮͒֜􎻮͒֝􎻮͒֞􎻮͒֟􎻮͒֠􎻮͒֡􎻮͒֨􎻮͒֩􎻮͒֫􎻮͒֬􎻮͒֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮͗̅􎻮͗̍􎻮͗̎􎻮͗̐􎻮͗̒􎻮͗̽􎻮͗̾􎻮͗̿􎻮͗͆􎻮͗͊􎻮͗͋􎻮͗͌􎻮͗͐􎻮͗͑􎻮͗͒􎻮͗͗􎻮͗͛􎻮͗ͣ􎻮͗ͤ􎻮͗ͥ􎻮͗ͦ􎻮͗ͧ􎻮͗ͨ􎻮͗ͩ􎻮͗ͪ􎻮͗ͫ􎻮͗ͬ􎻮͗ͭ􎻮͗ͮ􎻮͗ͯ􎻮͗҃􎻮͗҄􎻮͗҅􎻮͗҆􎻮͗҇􎻮͗֒􎻮͗֓􎻮͗֔􎻮͗֕􎻮͗֗􎻮͗֘􎻮͗֙􎻮͗֜􎻮͗֝􎻮͗֞􎻮͗֟􎻮͗֠􎻮͗֡􎻮͗֨􎻮͗֩􎻮͗֫􎻮͗֬􎻮͗֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮͛̅􎻮͛̍􎻮͛̎􎻮͛̐􎻮͛̒􎻮͛̽􎻮͛̾􎻮͛̿􎻮͛͆􎻮͛͊􎻮͛͋􎻮͛͌􎻮͛͐􎻮͛͑􎻮͛͒􎻮͛͗􎻮͛͛􎻮͛ͣ􎻮͛ͤ􎻮͛ͥ􎻮͛ͦ􎻮͛ͧ􎻮͛ͨ􎻮͛ͩ􎻮͛ͪ􎻮͛ͫ􎻮͛ͬ􎻮͛ͭ􎻮͛ͮ􎻮͛ͯ􎻮͛҃􎻮͛҄􎻮͛҅􎻮͛҆􎻮͛҇􎻮͛֒􎻮͛֓􎻮͛֔􎻮͛֕􎻮͛֗􎻮͛֘􎻮͛֙􎻮͛֜􎻮͛֝􎻮͛֞􎻮͛֟􎻮͛֠􎻮͛֡􎻮͛֨􎻮͛֩􎻮͛֫􎻮͛֬􎻮͛֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮ͣ̅􎻮ͣ̍􎻮ͣ̎􎻮ͣ̐􎻮ͣ̒􎻮ͣ̽􎻮ͣ̾􎻮ͣ̿􎻮ͣ͆􎻮ͣ͊􎻮ͣ͋􎻮ͣ͌􎻮ͣ͐􎻮ͣ͑􎻮ͣ͒􎻮ͣ͗􎻮ͣ͛􎻮ͣͣ􎻮ͣͤ􎻮ͣͥ􎻮ͣͦ􎻮ͣͧ􎻮ͣͨ􎻮ͣͩ􎻮ͣͪ􎻮ͣͫ􎻮ͣͬ􎻮ͣͭ􎻮ͣͮ􎻮ͣͯ􎻮ͣ҃􎻮ͣ҄􎻮ͣ҅􎻮ͣ҆􎻮ͣ҇􎻮ͣ֒􎻮ͣ֓􎻮ͣ֔􎻮ͣ֕􎻮ͣ֗􎻮ͣ֘􎻮ͣ֙􎻮ͣ֜􎻮ͣ֝􎻮ͣ֞􎻮ͣ֟􎻮ͣ֠􎻮ͣ֡􎻮ͣ֨􎻮ͣ֩􎻮ͣ֫􎻮ͣ֬􎻮ͣ֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮ͤ̅􎻮ͤ̍􎻮ͤ̎􎻮ͤ̐􎻮ͤ̒􎻮ͤ̽􎻮ͤ̾􎻮ͤ̿􎻮ͤ͆􎻮ͤ͊􎻮ͤ͋􎻮ͤ͌􎻮ͤ͐􎻮ͤ͑􎻮ͤ͒􎻮ͤ͗􎻮ͤ͛􎻮ͤͣ􎻮ͤͤ􎻮ͤͥ􎻮ͤͦ􎻮ͤͧ􎻮ͤͨ􎻮ͤͩ􎻮ͤͪ􎻮ͤͫ􎻮ͤͬ􎻮ͤͭ􎻮ͤͮ􎻮ͤͯ􎻮ͤ҃􎻮ͤ҄􎻮ͤ҅􎻮ͤ҆􎻮ͤ҇􎻮ͤ֒􎻮ͤ֓􎻮ͤ֔􎻮ͤ֕􎻮ͤ֗􎻮ͤ֘􎻮ͤ֙􎻮ͤ֜􎻮ͤ֝􎻮ͤ֞􎻮ͤ֟􎻮ͤ֠􎻮ͤ֡􎻮ͤ֨􎻮ͤ֩􎻮ͤ֫􎻮ͤ֬􎻮ͤ֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮ͥ̅􎻮ͥ̍􎻮ͥ̎􎻮ͥ̐􎻮ͥ̒􎻮ͥ̽􎻮ͥ̾􎻮ͥ̿􎻮ͥ͆􎻮ͥ͊􎻮ͥ͋􎻮ͥ͌􎻮ͥ͐􎻮ͥ͑􎻮ͥ͒􎻮ͥ͗􎻮ͥ͛􎻮ͥͣ􎻮ͥͤ􎻮ͥͥ􎻮ͥͦ􎻮ͥͧ􎻮ͥͨ􎻮ͥͩ􎻮ͥͪ􎻮ͥͫ􎻮ͥͬ􎻮ͥͭ􎻮ͥͮ􎻮ͥͯ􎻮ͥ҃􎻮ͥ҄􎻮ͥ҅􎻮ͥ҆􎻮ͥ҇􎻮ͥ֒􎻮ͥ֓􎻮ͥ֔􎻮ͥ֕􎻮ͥ֗􎻮ͥ֘􎻮ͥ֙􎻮ͥ֜􎻮ͥ֝􎻮ͥ֞􎻮ͥ֟􎻮ͥ֠􎻮ͥ֡􎻮ͥ֨􎻮ͥ֩􎻮ͥ֫􎻮ͥ֬􎻮ͥ֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮ͦ̅􎻮ͦ̍􎻮ͦ̎􎻮ͦ̐􎻮ͦ̒􎻮ͦ̽􎻮ͦ̾􎻮ͦ̿􎻮ͦ͆􎻮ͦ͊􎻮ͦ͋􎻮ͦ͌􎻮ͦ͐􎻮ͦ͑􎻮ͦ͒􎻮ͦ͗􎻮ͦ͛􎻮ͦͣ􎻮ͦͤ􎻮ͦͥ􎻮ͦͦ􎻮ͦͧ􎻮ͦͨ􎻮ͦͩ􎻮ͦͪ􎻮ͦͫ􎻮ͦͬ􎻮ͦͭ􎻮ͦͮ􎻮ͦͯ􎻮ͦ҃􎻮ͦ҄􎻮ͦ҅􎻮ͦ҆􎻮ͦ҇􎻮ͦ֒􎻮ͦ֓􎻮ͦ֔􎻮ͦ֕􎻮ͦ֗􎻮ͦ֘􎻮ͦ֙􎻮ͦ֜􎻮ͦ֝􎻮ͦ֞􎻮ͦ֟􎻮ͦ֠􎻮ͦ֡􎻮ͦ֨􎻮ͦ֩􎻮ͦ֫􎻮ͦ֬􎻮ͦ֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮ͧ̅􎻮ͧ̍􎻮ͧ̎􎻮ͧ̐􎻮ͧ̒􎻮ͧ̽􎻮ͧ̾􎻮ͧ̿􎻮ͧ͆􎻮ͧ͊􎻮ͧ͋􎻮ͧ͌􎻮ͧ͐􎻮ͧ͑􎻮ͧ͒􎻮ͧ͗􎻮ͧ͛􎻮ͧͣ􎻮ͧͤ􎻮ͧͥ􎻮ͧͦ􎻮ͧͧ􎻮ͧͨ􎻮ͧͩ􎻮ͧͪ􎻮ͧͫ􎻮ͧͬ􎻮ͧͭ􎻮ͧͮ􎻮ͧͯ􎻮ͧ҃􎻮ͧ҄􎻮ͧ҅􎻮ͧ҆􎻮ͧ҇􎻮ͧ֒􎻮ͧ֓􎻮ͧ֔􎻮ͧ֕􎻮ͧ֗􎻮ͧ֘􎻮ͧ֙􎻮ͧ֜􎻮ͧ֝􎻮ͧ֞􎻮ͧ֟􎻮ͧ֠􎻮ͧ֡􎻮ͧ֨􎻮ͧ֩􎻮ͧ֫􎻮ͧ֬􎻮ͧ֯[0m[uD
[s[0m[38;2;[[rgb(id_wikipedia)]]m􎻮ͨ̅􎻮ͨ̍􎻮ͨ̎􎻮ͨ̐􎻮ͨ̒􎻮ͨ̽􎻮ͨ̾􎻮ͨ̿􎻮ͨ͆􎻮ͨ͊􎻮ͨ͋􎻮ͨ͌􎻮ͨ͐􎻮ͨ͑􎻮ͨ͒􎻮ͨ͗􎻮ͨ͛􎻮ͨͣ􎻮ͨͤ􎻮ͨͥ􎻮ͨͦ􎻮ͨͧ􎻮ͨͨ􎻮ͨͩ􎻮ͨͪ􎻮ͨͫ􎻮ͨͬ􎻮ͨͭ􎻮ͨͮ􎻮ͨͯ􎻮ͨ҃􎻮ͨ҄􎻮ͨ҅􎻮ͨ҆􎻮ͨ҇􎻮ͨ֒􎻮ͨ֓􎻮ͨ֔􎻮ͨ֕􎻮ͨ֗􎻮ͨ֘􎻮ͨ֙􎻮ͨ֜􎻮ͨ֝􎻮ͨ֞􎻮ͨ֟􎻮ͨ֠􎻮ͨ֡􎻮ͨ֨􎻮ͨ֩􎻮ͨ֫􎻮ͨ֬􎻮ͨ֯[0m[uD
[0m[38;2;[[rgb(id_wikipedia)]]m􎻮ͩ̅􎻮ͩ̍􎻮ͩ̎􎻮ͩ̐􎻮ͩ̒􎻮ͩ̽􎻮ͩ̾􎻮ͩ̿􎻮ͩ͆􎻮ͩ͊􎻮ͩ͋􎻮ͩ͌􎻮ͩ͐􎻮ͩ͑􎻮ͩ͒􎻮ͩ͗􎻮ͩ͛􎻮ͩͣ􎻮ͩͤ􎻮ͩͥ􎻮ͩͦ􎻮ͩͧ􎻮ͩͨ􎻮ͩͩ􎻮ͩͪ􎻮ͩͫ􎻮ͩͬ􎻮ͩͭ􎻮ͩͮ􎻮ͩͯ􎻮ͩ҃􎻮ͩ҄􎻮ͩ҅􎻮ͩ҆􎻮ͩ҇􎻮ͩ֒􎻮ͩ֓􎻮ͩ֔􎻮ͩ֕􎻮ͩ֗􎻮ͩ֘􎻮ͩ֙􎻮ͩ֜􎻮ͩ֝􎻮ͩ֞􎻮ͩ֟􎻮ͩ֠􎻮ͩ֡􎻮ͩ֨􎻮ͩ֩􎻮ͩ֫􎻮ͩ֬􎻮ͩ֯[0m[53D
_Gi=[[id_arrow:.*]],t=f,q=2,f=100,a=T,U=1,r=2,c=2;[[data_arrow:.*]]\
D
[s[0m[38;2;[[rgb(id_arrow)]]m􎻮̅̅􎻮̅̍[0m[uD
[0m[38;2;[[rgb(id_arrow)]]m􎻮̍̅􎻮̍̍[0m[2DD

---------- SUBTEST Display multiple images with the same row parameter ----------

tupimage ./.cli-tests-data/wikipedia.png ./.cli-tests-data/small_arrow.png -r 2
_Gi={{.*}},t=f,q=2,f=100,a=T,U=1,r=2,c=5;[[data_wikipedia]]\
[s[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒[0m[uD
[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒[0m[5D
_Gi={{.*}},t=f,q=2,f=100,a=T,U=1,r=2,c=4;[[data_arrow]]\
D
[s[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐[0m[uD
[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐[0m[4DD

---------- SUBTEST Display even more images ----------

tupimage -r 1 ./.cli-tests-data/wikipedia.png ./.cli-tests-data/small_arrow.png ./.cli-tests-data/column.png ./.cli-tests-data/ruler.png ./.cli-tests-data/tux.png ./.cli-tests-data/transparency.png
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=1,c=3;{{.*}}\
[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3D
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=1,c=2;{{.*}}\
D
[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍[0m[2D
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=1,c=1;{{.*}}\
D
[0m[38;2;[[rgb(id)]]m􎻮̅̅[0m[1D
_Gi=[[id_ruler_35x1:.*]],t=f,q=2,f=100,a=T,U=1,r=1,c=35;{{.*}}\
D
[0m[38;2;[[rgb(id_ruler_35x1)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇[0m[35D
_Gi=[[id_tux_2x1:.*]],t=f,q=2,f=100,a=T,U=1,r=1,c=2;{{.*}}\
D
[0m[38;2;[[rgb(id_tux_2x1)]]m􎻮̅̅􎻮̅̍[0m[2D
_Gi=[[id_trans_3x1:.*]],t=f,q=2,f=100,a=T,U=1,r=1,c=3;{{.*}}\
D
[0m[38;2;[[rgb(id_trans_3x1)]]m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3DD

---------- SUBTEST Display some of them again. Mix in non-existing images. ----------

tupimage -r 1 ./.cli-tests-data/wikipedia.png ./.cli-tests-data/nonexisting.png ./.cli-tests-data/ruler.png ./.cli-tests-data/tux.png ./.cli-tests-data/transparency.png
[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3DD
error: Failed to upload ./.cli-tests-data/nonexisting.png: [Errno 2] No such file or directory: '{{.*}}/nonexisting.png'
[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇[0m[35DD
[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍[0m[2DD
[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3DD
Exit code: 1

---------- SUBTEST List all images (only one-line info) ----------

tupimage list
[[id_trans_3x1]]	3x1	{{.*}}/transparency.png
[[id_tux_2x1]]	2x1	{{.*}}/tux.png
[[id_ruler_35x1]]	35x1	{{.*}}/ruler.png
{{.*}}	3x1	{{.*}}/wikipedia.png
{{.*}}	1x1	{{.*}}/column.png
{{.*}}	2x1	{{.*}}/small_arrow.png
{{.*}}	4x2	{{.*}}/small_arrow.png
{{.*}}	5x2	{{.*}}/wikipedia.png
{{.*}}	2x2	{{.*}}/small_arrow.png
[[id_wikipedia]]	53x24	{{.*}}/wikipedia.png

---------- SUBTEST List last 3 images ----------

tupimage list --last 3
[[id_trans_3x1]]	3x1	{{.*}}/transparency.png
[[id_tux_2x1]]	2x1	{{.*}}/tux.png
[[id_ruler_35x1]]	35x1	{{.*}}/ruler.png

---------- SUBTEST Mix ids and filenames ----------

tupimage list [[id_wikipedia]] ./.cli-tests-data/tux.png id:123 ./.cli-tests-data/nonexisting.png
error: ID not found in the db: 123
error: Image not found in the db: {{.*}}/nonexisting.png
[[id_wikipedia]]	53x24	{{.*}}/wikipedia.png
[[id_tux_2x1]]	2x1	{{.*}}/tux.png
Exit code: 1

---------- SUBTEST Mark dirty last 2 images, then fix last 3 ----------

tupimage dirty --last 2
dirty [[id_wikipedia]]	53x24	{{.*}}/wikipedia.png
dirty [[id_trans_3x1]]	3x1	{{.*}}/transparency.png
tupimage list -v --last 2
[1mID: [[id_wikipedia]]{{.*}}
  {{.*}}
  [1mNEEDS UPLOADING[0m to {{.*}}
[s[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇􎻮̅֒􎻮̅֓􎻮̅֔􎻮̅֕􎻮̅֗􎻮̅֘􎻮̅֙􎻮̅֜􎻮̅֝􎻮̅֞􎻮̅֟􎻮̅֠􎻮̅֡􎻮̅֨􎻮̅֩􎻮̅֫􎻮̅֬􎻮̅֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋􎻮̍͌􎻮̍͐􎻮̍͑􎻮̍͒􎻮̍͗􎻮̍͛􎻮̍ͣ􎻮̍ͤ􎻮̍ͥ􎻮̍ͦ􎻮̍ͧ􎻮̍ͨ􎻮̍ͩ􎻮̍ͪ􎻮̍ͫ􎻮̍ͬ􎻮̍ͭ􎻮̍ͮ􎻮̍ͯ􎻮̍҃􎻮̍҄􎻮̍҅􎻮̍҆􎻮̍҇􎻮̍֒􎻮̍֓􎻮̍֔􎻮̍֕􎻮̍֗􎻮̍֘􎻮̍֙􎻮̍֜􎻮̍֝􎻮̍֞􎻮̍֟􎻮̍֠􎻮̍֡􎻮̍֨􎻮̍֩􎻮̍֫􎻮̍֬􎻮̍֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋􎻮̎͌􎻮̎͐􎻮̎͑􎻮̎͒􎻮̎͗􎻮̎͛􎻮̎ͣ􎻮̎ͤ􎻮̎ͥ􎻮̎ͦ􎻮̎ͧ􎻮̎ͨ􎻮̎ͩ􎻮̎ͪ􎻮̎ͫ􎻮̎ͬ􎻮̎ͭ􎻮̎ͮ􎻮̎ͯ􎻮̎҃􎻮̎҄􎻮̎҅􎻮̎҆􎻮̎҇􎻮̎֒􎻮̎֓􎻮̎֔􎻮̎֕􎻮̎֗􎻮̎֘􎻮̎֙􎻮̎֜􎻮̎֝􎻮̎֞􎻮̎֟􎻮̎֠􎻮̎֡􎻮̎֨􎻮̎֩􎻮̎֫􎻮̎֬􎻮̎֯[0m[uD
[0m[38;2;{{.*}}m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆􎻮̐͊􎻮̐͋􎻮̐͌􎻮̐͐􎻮̐͑􎻮̐͒􎻮̐͗􎻮̐͛􎻮̐ͣ􎻮̐ͤ􎻮̐ͥ􎻮̐ͦ􎻮̐ͧ􎻮̐ͨ􎻮̐ͩ􎻮̐ͪ􎻮̐ͫ􎻮̐ͬ􎻮̐ͭ􎻮̐ͮ􎻮̐ͯ􎻮̐҃􎻮̐҄􎻮̐҅􎻮̐҆􎻮̐҇􎻮̐֒􎻮̐֓􎻮̐֔􎻮̐֕􎻮̐֗􎻮̐֘􎻮̐֙􎻮̐֜􎻮̐֝􎻮̐֞􎻮̐֟􎻮̐֠􎻮̐֡􎻮̐֨􎻮̐֩􎻮̐֫􎻮̐֬􎻮̐֯[0m[53DD
  Note: cropped to 53x4
--------------------------------------------------------------------------------
[1mID: [[id_trans_3x1]]{{.*}}
  {{.*}}
  [1mNEEDS UPLOADING[0m to {{.*}}
[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3DD
--------------------------------------------------------------------------------
tupimage fix --last 3
_Gi=[[id_wikipedia]],t=f,q=2,f=100,a=T,U=1,r=24,c=53;{{.*}}\
_Gi=[[id_trans_3x1]],t=f,q=2,f=100,a=T,U=1,r=1,c=3;{{.*}}\
fix [[id_wikipedia]]	53x24	{{.*}}/wikipedia.png
fix [[id_trans_3x1]]	3x1	{{.*}}/transparency.png
tupimage list -v --last 2
[1mID: [[id_wikipedia]]{{.*}}
  {{.*}}
  Uploaded {{.*}} uploads_ago: 2
[s[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇􎻮̅֒􎻮̅֓􎻮̅֔􎻮̅֕􎻮̅֗􎻮̅֘􎻮̅֙􎻮̅֜􎻮̅֝􎻮̅֞􎻮̅֟􎻮̅֠􎻮̅֡􎻮̅֨􎻮̅֩􎻮̅֫􎻮̅֬􎻮̅֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋􎻮̍͌􎻮̍͐􎻮̍͑􎻮̍͒􎻮̍͗􎻮̍͛􎻮̍ͣ􎻮̍ͤ􎻮̍ͥ􎻮̍ͦ􎻮̍ͧ􎻮̍ͨ􎻮̍ͩ􎻮̍ͪ􎻮̍ͫ􎻮̍ͬ􎻮̍ͭ􎻮̍ͮ􎻮̍ͯ􎻮̍҃􎻮̍҄􎻮̍҅􎻮̍҆􎻮̍҇􎻮̍֒􎻮̍֓􎻮̍֔􎻮̍֕􎻮̍֗􎻮̍֘􎻮̍֙􎻮̍֜􎻮̍֝􎻮̍֞􎻮̍֟􎻮̍֠􎻮̍֡􎻮̍֨􎻮̍֩􎻮̍֫􎻮̍֬􎻮̍֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋􎻮̎͌􎻮̎͐􎻮̎͑􎻮̎͒􎻮̎͗􎻮̎͛􎻮̎ͣ􎻮̎ͤ􎻮̎ͥ􎻮̎ͦ􎻮̎ͧ􎻮̎ͨ􎻮̎ͩ􎻮̎ͪ􎻮̎ͫ􎻮̎ͬ􎻮̎ͭ􎻮̎ͮ􎻮̎ͯ􎻮̎҃􎻮̎҄􎻮̎҅􎻮̎҆􎻮̎҇􎻮̎֒􎻮̎֓􎻮̎֔􎻮̎֕􎻮̎֗􎻮̎֘􎻮̎֙􎻮̎֜􎻮̎֝􎻮̎֞􎻮̎֟􎻮̎֠􎻮̎֡􎻮̎֨􎻮̎֩􎻮̎֫􎻮̎֬􎻮̎֯[0m[uD
[0m[38;2;{{.*}}m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆􎻮̐͊􎻮̐͋􎻮̐͌􎻮̐͐􎻮̐͑􎻮̐͒􎻮̐͗􎻮̐͛􎻮̐ͣ􎻮̐ͤ􎻮̐ͥ􎻮̐ͦ􎻮̐ͧ􎻮̐ͨ􎻮̐ͩ􎻮̐ͪ􎻮̐ͫ􎻮̐ͬ􎻮̐ͭ􎻮̐ͮ􎻮̐ͯ􎻮̐҃􎻮̐҄􎻮̐҅􎻮̐҆􎻮̐҇􎻮̐֒􎻮̐֓􎻮̐֔􎻮̐֕􎻮̐֗􎻮̐֘􎻮̐֙􎻮̐֜􎻮̐֝􎻮̐֞􎻮̐֟􎻮̐֠􎻮̐֡􎻮̐֨􎻮̐֩􎻮̐֫􎻮̐֬􎻮̐֯[0m[53DD
  Note: cropped to 53x4
--------------------------------------------------------------------------------
[1mID: [[id_trans_3x1]]{{.*}}
  {{.*}}
  Uploaded {{.*}} uploads_ago: 1
[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎[0m[3DD
--------------------------------------------------------------------------------

---------- SUBTEST Mark dirty last 2 images, then reupload last 3 ----------

tupimage dirty --last 2
dirty [[id_wikipedia]]	53x24	{{.*}}/wikipedia.png
dirty [[id_trans_3x1]]	3x1	{{.*}}/transparency.png
tupimage reupload --last 3
_Gi=[[id_wikipedia]],t=f,q=2,f=100,a=T,U=1,r=24,c=53;{{.*}}\
_Gi=[[id_trans_3x1]],t=f,q=2,f=100,a=T,U=1,r=1,c=3;{{.*}}\
_Gi=[[id_tux_2x1]],t=f,q=2,f=100,a=T,U=1,r=1,c=2;{{.*}}\
reupload [[id_wikipedia]]	53x24	{{.*}}/wikipedia.png
reupload [[id_trans_3x1]]	3x1	{{.*}}/transparency.png
reupload [[id_tux_2x1]]	2x1	{{.*}}/tux.png

---------- SUBTEST Mark dirty the last image, then display it ----------

tupimage dirty --last 1
dirty [[id_wikipedia]]	53x24	{{.*}}/wikipedia.png
tupimage display id:[[id_wikipedia]]
_Gi=[[id_wikipedia]],t=f,q=2,f=100,a=T,U=1,r=24,c=53;{{.*}}\
[s[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾􎻮̅̿􎻮̅͆􎻮̅͊􎻮̅͋􎻮̅͌􎻮̅͐􎻮̅͑􎻮̅͒􎻮̅͗􎻮̅͛􎻮̅ͣ􎻮̅ͤ􎻮̅ͥ􎻮̅ͦ􎻮̅ͧ􎻮̅ͨ􎻮̅ͩ􎻮̅ͪ􎻮̅ͫ􎻮̅ͬ􎻮̅ͭ􎻮̅ͮ􎻮̅ͯ􎻮̅҃􎻮̅҄􎻮̅҅􎻮̅҆􎻮̅҇􎻮̅֒􎻮̅֓􎻮̅֔􎻮̅֕􎻮̅֗􎻮̅֘􎻮̅֙􎻮̅֜􎻮̅֝􎻮̅֞􎻮̅֟􎻮̅֠􎻮̅֡􎻮̅֨􎻮̅֩􎻮̅֫􎻮̅֬􎻮̅֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾􎻮̍̿􎻮̍͆􎻮̍͊􎻮̍͋􎻮̍͌􎻮̍͐􎻮̍͑􎻮̍͒􎻮̍͗􎻮̍͛􎻮̍ͣ􎻮̍ͤ􎻮̍ͥ􎻮̍ͦ􎻮̍ͧ􎻮̍ͨ􎻮̍ͩ􎻮̍ͪ􎻮̍ͫ􎻮̍ͬ􎻮̍ͭ􎻮̍ͮ􎻮̍ͯ􎻮̍҃􎻮̍҄􎻮̍҅􎻮̍҆􎻮̍҇􎻮̍֒􎻮̍֓􎻮̍֔􎻮̍֕􎻮̍֗􎻮̍֘􎻮̍֙􎻮̍֜􎻮̍֝􎻮̍֞􎻮̍֟􎻮̍֠􎻮̍֡􎻮̍֨􎻮̍֩􎻮̍֫􎻮̍֬􎻮̍֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾􎻮̎̿􎻮̎͆􎻮̎͊􎻮̎͋􎻮̎͌􎻮̎͐􎻮̎͑􎻮̎͒􎻮̎͗􎻮̎͛􎻮̎ͣ􎻮̎ͤ􎻮̎ͥ􎻮̎ͦ􎻮̎ͧ􎻮̎ͨ􎻮̎ͩ􎻮̎ͪ􎻮̎ͫ􎻮̎ͬ􎻮̎ͭ􎻮̎ͮ􎻮̎ͯ􎻮̎҃􎻮̎҄􎻮̎҅􎻮̎҆􎻮̎҇􎻮̎֒􎻮̎֓􎻮̎֔􎻮̎֕􎻮̎֗􎻮̎֘􎻮̎֙􎻮̎֜􎻮̎֝􎻮̎֞􎻮̎֟􎻮̎֠􎻮̎֡􎻮̎֨􎻮̎֩􎻮̎֫􎻮̎֬􎻮̎֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̐̅􎻮̐̍􎻮̐̎􎻮̐̐􎻮̐̒􎻮̐̽􎻮̐̾􎻮̐̿􎻮̐͆􎻮̐͊􎻮̐͋􎻮̐͌􎻮̐͐􎻮̐͑􎻮̐͒􎻮̐͗􎻮̐͛􎻮̐ͣ􎻮̐ͤ􎻮̐ͥ􎻮̐ͦ􎻮̐ͧ􎻮̐ͨ􎻮̐ͩ􎻮̐ͪ􎻮̐ͫ􎻮̐ͬ􎻮̐ͭ􎻮̐ͮ􎻮̐ͯ􎻮̐҃􎻮̐҄􎻮̐҅􎻮̐҆􎻮̐҇􎻮̐֒􎻮̐֓􎻮̐֔􎻮̐֕􎻮̐֗􎻮̐֘􎻮̐֙􎻮̐֜􎻮̐֝􎻮̐֞􎻮̐֟􎻮̐֠􎻮̐֡􎻮̐֨􎻮̐֩􎻮̐֫􎻮̐֬􎻮̐֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̒̅􎻮̒̍􎻮̒̎􎻮̒̐􎻮̒̒􎻮̒̽􎻮̒̾􎻮̒̿􎻮̒͆􎻮̒͊􎻮̒͋􎻮̒͌􎻮̒͐􎻮̒͑􎻮̒͒􎻮̒͗􎻮̒͛􎻮̒ͣ􎻮̒ͤ􎻮̒ͥ􎻮̒ͦ􎻮̒ͧ􎻮̒ͨ􎻮̒ͩ􎻮̒ͪ􎻮̒ͫ􎻮̒ͬ􎻮̒ͭ􎻮̒ͮ􎻮̒ͯ􎻮̒҃􎻮̒҄􎻮̒҅􎻮̒҆􎻮̒҇􎻮̒֒􎻮̒֓􎻮̒֔􎻮̒֕􎻮̒֗􎻮̒֘􎻮̒֙􎻮̒֜􎻮̒֝􎻮̒֞􎻮̒֟􎻮̒֠􎻮̒֡􎻮̒֨􎻮̒֩􎻮̒֫􎻮̒֬􎻮̒֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̽̅􎻮̽̍􎻮̽̎􎻮̽̐􎻮̽̒􎻮̽̽􎻮̽̾􎻮̽̿􎻮̽͆􎻮̽͊􎻮̽͋􎻮̽͌􎻮̽͐􎻮̽͑􎻮̽͒􎻮̽͗􎻮̽͛􎻮̽ͣ􎻮̽ͤ􎻮̽ͥ􎻮̽ͦ􎻮̽ͧ􎻮̽ͨ􎻮̽ͩ􎻮̽ͪ􎻮̽ͫ􎻮̽ͬ􎻮̽ͭ􎻮̽ͮ􎻮̽ͯ􎻮̽҃􎻮̽҄􎻮̽҅􎻮̽҆􎻮̽҇􎻮̽֒􎻮̽֓􎻮̽֔􎻮̽֕􎻮̽֗􎻮̽֘􎻮̽֙􎻮̽֜􎻮̽֝􎻮̽֞􎻮̽֟􎻮̽֠􎻮̽֡􎻮̽֨􎻮̽֩􎻮̽֫􎻮̽֬􎻮̽֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̾̅􎻮̾̍􎻮̾̎􎻮̾̐􎻮̾̒􎻮̾̽􎻮̾̾􎻮̾̿􎻮̾͆􎻮̾͊􎻮̾͋􎻮̾͌􎻮̾͐􎻮̾͑􎻮̾͒􎻮̾͗􎻮̾͛􎻮̾ͣ􎻮̾ͤ􎻮̾ͥ􎻮̾ͦ􎻮̾ͧ􎻮̾ͨ􎻮̾ͩ􎻮̾ͪ􎻮̾ͫ􎻮̾ͬ􎻮̾ͭ􎻮̾ͮ􎻮̾ͯ􎻮̾҃􎻮̾҄􎻮̾҅􎻮̾҆􎻮̾҇􎻮̾֒􎻮̾֓􎻮̾֔􎻮̾֕􎻮̾֗􎻮̾֘􎻮̾֙􎻮̾֜􎻮̾֝􎻮̾֞􎻮̾֟􎻮̾֠􎻮̾֡􎻮̾֨􎻮̾֩􎻮̾֫􎻮̾֬􎻮̾֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮̿̅􎻮̿̍􎻮̿̎􎻮̿̐􎻮̿̒􎻮̿̽􎻮̿̾􎻮̿̿􎻮̿͆􎻮̿͊􎻮̿͋􎻮̿͌􎻮̿͐􎻮̿͑􎻮̿͒􎻮̿͗􎻮̿͛􎻮̿ͣ􎻮̿ͤ􎻮̿ͥ􎻮̿ͦ􎻮̿ͧ􎻮̿ͨ􎻮̿ͩ􎻮̿ͪ􎻮̿ͫ􎻮̿ͬ􎻮̿ͭ􎻮̿ͮ􎻮̿ͯ􎻮̿҃􎻮̿҄􎻮̿҅􎻮̿҆􎻮̿҇􎻮̿֒􎻮̿֓􎻮̿֔􎻮̿֕􎻮̿֗􎻮̿֘􎻮̿֙􎻮̿֜􎻮̿֝􎻮̿֞􎻮̿֟􎻮̿֠􎻮̿֡􎻮̿֨􎻮̿֩􎻮̿֫􎻮̿֬􎻮̿֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮͆̅􎻮͆̍􎻮͆̎􎻮͆̐􎻮͆̒􎻮͆̽􎻮͆̾􎻮͆̿􎻮͆͆􎻮͆͊􎻮͆͋􎻮͆͌􎻮͆͐􎻮͆͑􎻮͆͒􎻮͆͗􎻮͆͛􎻮͆ͣ􎻮͆ͤ􎻮͆ͥ􎻮͆ͦ􎻮͆ͧ􎻮͆ͨ􎻮͆ͩ􎻮͆ͪ􎻮͆ͫ􎻮͆ͬ􎻮͆ͭ􎻮͆ͮ􎻮͆ͯ􎻮͆҃􎻮͆҄􎻮͆҅􎻮͆҆􎻮͆҇􎻮͆֒􎻮͆֓􎻮͆֔􎻮͆֕􎻮͆֗􎻮͆֘􎻮͆֙􎻮͆֜􎻮͆֝􎻮͆֞􎻮͆֟􎻮͆֠􎻮͆֡􎻮͆֨􎻮͆֩􎻮͆֫􎻮͆֬􎻮͆֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮͊̅􎻮͊̍􎻮͊̎􎻮͊̐􎻮͊̒􎻮͊̽􎻮͊̾􎻮͊̿􎻮͊͆􎻮͊͊􎻮͊͋􎻮͊͌􎻮͊͐􎻮͊͑􎻮͊͒􎻮͊͗􎻮͊͛􎻮͊ͣ􎻮͊ͤ􎻮͊ͥ􎻮͊ͦ􎻮͊ͧ􎻮͊ͨ􎻮͊ͩ􎻮͊ͪ􎻮͊ͫ􎻮͊ͬ􎻮͊ͭ􎻮͊ͮ􎻮͊ͯ􎻮͊҃􎻮͊҄􎻮͊҅􎻮͊҆􎻮͊҇􎻮͊֒􎻮͊֓􎻮͊֔􎻮͊֕􎻮͊֗􎻮͊֘􎻮͊֙􎻮͊֜􎻮͊֝􎻮͊֞􎻮͊֟􎻮͊֠􎻮͊֡􎻮͊֨􎻮͊֩􎻮͊֫􎻮͊֬􎻮͊֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮͋̅􎻮͋̍􎻮͋̎􎻮͋̐􎻮͋̒􎻮͋̽􎻮͋̾􎻮͋̿􎻮͋͆􎻮͋͊􎻮͋͋􎻮͋͌􎻮͋͐􎻮͋͑􎻮͋͒􎻮͋͗􎻮͋͛􎻮͋ͣ􎻮͋ͤ􎻮͋ͥ􎻮͋ͦ􎻮͋ͧ􎻮͋ͨ􎻮͋ͩ􎻮͋ͪ􎻮͋ͫ􎻮͋ͬ􎻮͋ͭ􎻮͋ͮ􎻮͋ͯ􎻮͋҃􎻮͋҄􎻮͋҅􎻮͋҆􎻮͋҇􎻮͋֒􎻮͋֓􎻮͋֔􎻮͋֕􎻮͋֗􎻮͋֘􎻮͋֙􎻮͋֜􎻮͋֝􎻮͋֞􎻮͋֟􎻮͋֠􎻮͋֡􎻮͋֨􎻮͋֩􎻮͋֫􎻮͋֬􎻮͋֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮͌̅􎻮͌̍􎻮͌̎􎻮͌̐􎻮͌̒􎻮͌̽􎻮͌̾􎻮͌̿􎻮͌͆􎻮͌͊􎻮͌͋􎻮͌͌􎻮͌͐􎻮͌͑􎻮͌͒􎻮͌͗􎻮͌͛􎻮͌ͣ􎻮͌ͤ􎻮͌ͥ􎻮͌ͦ􎻮͌ͧ􎻮͌ͨ􎻮͌ͩ􎻮͌ͪ􎻮͌ͫ􎻮͌ͬ􎻮͌ͭ􎻮͌ͮ􎻮͌ͯ􎻮͌҃􎻮͌҄􎻮͌҅􎻮͌҆􎻮͌҇􎻮͌֒􎻮͌֓􎻮͌֔􎻮͌֕􎻮͌֗􎻮͌֘􎻮͌֙􎻮͌֜􎻮͌֝􎻮͌֞􎻮͌֟􎻮͌֠􎻮͌֡􎻮͌֨􎻮͌֩􎻮͌֫􎻮͌֬􎻮͌֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮͐̅􎻮͐̍􎻮͐̎􎻮͐̐􎻮͐̒􎻮͐̽􎻮͐̾􎻮͐̿􎻮͐͆􎻮͐͊􎻮͐͋􎻮͐͌􎻮͐͐􎻮͐͑􎻮͐͒􎻮͐͗􎻮͐͛􎻮͐ͣ􎻮͐ͤ􎻮͐ͥ􎻮͐ͦ􎻮͐ͧ􎻮͐ͨ􎻮͐ͩ􎻮͐ͪ􎻮͐ͫ􎻮͐ͬ􎻮͐ͭ􎻮͐ͮ􎻮͐ͯ􎻮͐҃􎻮͐҄􎻮͐҅􎻮͐҆􎻮͐҇􎻮͐֒􎻮͐֓􎻮͐֔􎻮͐֕􎻮͐֗􎻮͐֘􎻮͐֙􎻮͐֜􎻮͐֝􎻮͐֞􎻮͐֟􎻮͐֠􎻮͐֡􎻮͐֨􎻮͐֩􎻮͐֫􎻮͐֬􎻮͐֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮͑̅􎻮͑̍􎻮͑̎􎻮͑̐􎻮͑̒􎻮͑̽􎻮͑̾􎻮͑̿􎻮͑͆􎻮͑͊􎻮͑͋􎻮͑͌􎻮͑͐􎻮͑͑􎻮͑͒􎻮͑͗􎻮͑͛􎻮͑ͣ􎻮͑ͤ􎻮͑ͥ􎻮͑ͦ􎻮͑ͧ􎻮͑ͨ􎻮͑ͩ􎻮͑ͪ􎻮͑ͫ􎻮͑ͬ􎻮͑ͭ􎻮͑ͮ􎻮͑ͯ􎻮͑҃􎻮͑҄􎻮͑҅􎻮͑҆􎻮͑҇􎻮͑֒􎻮͑֓􎻮͑֔􎻮͑֕􎻮͑֗􎻮͑֘􎻮͑֙􎻮͑֜􎻮͑֝􎻮͑֞􎻮͑֟􎻮͑֠􎻮͑֡􎻮͑֨􎻮͑֩􎻮͑֫􎻮͑֬􎻮͑֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮͒̅􎻮͒̍􎻮͒̎􎻮͒̐􎻮͒̒􎻮͒̽􎻮͒̾􎻮͒̿􎻮͒͆􎻮͒͊􎻮͒͋􎻮͒͌􎻮͒͐􎻮͒͑􎻮͒͒􎻮͒͗􎻮͒͛􎻮͒ͣ􎻮͒ͤ􎻮͒ͥ􎻮͒ͦ􎻮͒ͧ􎻮͒ͨ􎻮͒ͩ􎻮͒ͪ􎻮͒ͫ􎻮͒ͬ􎻮͒ͭ􎻮͒ͮ􎻮͒ͯ􎻮͒҃􎻮͒҄􎻮͒҅􎻮͒҆􎻮͒҇􎻮͒֒􎻮͒֓􎻮͒֔􎻮͒֕􎻮͒֗􎻮͒֘􎻮͒֙􎻮͒֜􎻮͒֝􎻮͒֞􎻮͒֟􎻮͒֠􎻮͒֡􎻮͒֨􎻮͒֩􎻮͒֫􎻮͒֬􎻮͒֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮͗̅􎻮͗̍􎻮͗̎􎻮͗̐􎻮͗̒􎻮͗̽􎻮͗̾􎻮͗̿􎻮͗͆􎻮͗͊􎻮͗͋􎻮͗͌􎻮͗͐􎻮͗͑􎻮͗͒􎻮͗͗􎻮͗͛􎻮͗ͣ􎻮͗ͤ􎻮͗ͥ􎻮͗ͦ􎻮͗ͧ􎻮͗ͨ􎻮͗ͩ􎻮͗ͪ􎻮͗ͫ􎻮͗ͬ􎻮͗ͭ􎻮͗ͮ􎻮͗ͯ􎻮͗҃􎻮͗҄􎻮͗҅􎻮͗҆􎻮͗҇􎻮͗֒􎻮͗֓􎻮͗֔􎻮͗֕􎻮͗֗􎻮͗֘􎻮͗֙􎻮͗֜􎻮͗֝􎻮͗֞􎻮͗֟􎻮͗֠􎻮͗֡􎻮͗֨􎻮͗֩􎻮͗֫􎻮͗֬􎻮͗֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮͛̅􎻮͛̍􎻮͛̎􎻮͛̐􎻮͛̒􎻮͛̽􎻮͛̾􎻮͛̿􎻮͛͆􎻮͛͊􎻮͛͋􎻮͛͌􎻮͛͐􎻮͛͑􎻮͛͒􎻮͛͗􎻮͛͛􎻮͛ͣ􎻮͛ͤ􎻮͛ͥ􎻮͛ͦ􎻮͛ͧ􎻮͛ͨ􎻮͛ͩ􎻮͛ͪ􎻮͛ͫ􎻮͛ͬ􎻮͛ͭ􎻮͛ͮ􎻮͛ͯ􎻮͛҃􎻮͛҄􎻮͛҅􎻮͛҆􎻮͛҇􎻮͛֒􎻮͛֓􎻮͛֔􎻮͛֕􎻮͛֗􎻮͛֘􎻮͛֙􎻮͛֜􎻮͛֝􎻮͛֞􎻮͛֟􎻮͛֠􎻮͛֡􎻮͛֨􎻮͛֩􎻮͛֫􎻮͛֬􎻮͛֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮ͣ̅􎻮ͣ̍􎻮ͣ̎􎻮ͣ̐􎻮ͣ̒􎻮ͣ̽􎻮ͣ̾􎻮ͣ̿􎻮ͣ͆􎻮ͣ͊􎻮ͣ͋􎻮ͣ͌􎻮ͣ͐􎻮ͣ͑􎻮ͣ͒􎻮ͣ͗􎻮ͣ͛􎻮ͣͣ􎻮ͣͤ􎻮ͣͥ􎻮ͣͦ􎻮ͣͧ􎻮ͣͨ􎻮ͣͩ􎻮ͣͪ􎻮ͣͫ􎻮ͣͬ􎻮ͣͭ􎻮ͣͮ􎻮ͣͯ􎻮ͣ҃􎻮ͣ҄􎻮ͣ҅􎻮ͣ҆􎻮ͣ҇􎻮ͣ֒􎻮ͣ֓􎻮ͣ֔􎻮ͣ֕􎻮ͣ֗􎻮ͣ֘􎻮ͣ֙􎻮ͣ֜􎻮ͣ֝􎻮ͣ֞􎻮ͣ֟􎻮ͣ֠􎻮ͣ֡􎻮ͣ֨􎻮ͣ֩􎻮ͣ֫􎻮ͣ֬􎻮ͣ֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮ͤ̅􎻮ͤ̍􎻮ͤ̎􎻮ͤ̐􎻮ͤ̒􎻮ͤ̽􎻮ͤ̾􎻮ͤ̿􎻮ͤ͆􎻮ͤ͊􎻮ͤ͋􎻮ͤ͌􎻮ͤ͐􎻮ͤ͑􎻮ͤ͒􎻮ͤ͗􎻮ͤ͛􎻮ͤͣ􎻮ͤͤ􎻮ͤͥ􎻮ͤͦ􎻮ͤͧ􎻮ͤͨ􎻮ͤͩ􎻮ͤͪ􎻮ͤͫ􎻮ͤͬ􎻮ͤͭ􎻮ͤͮ􎻮ͤͯ􎻮ͤ҃􎻮ͤ҄􎻮ͤ҅􎻮ͤ҆􎻮ͤ҇􎻮ͤ֒􎻮ͤ֓􎻮ͤ֔􎻮ͤ֕􎻮ͤ֗􎻮ͤ֘􎻮ͤ֙􎻮ͤ֜􎻮ͤ֝􎻮ͤ֞􎻮ͤ֟􎻮ͤ֠􎻮ͤ֡􎻮ͤ֨􎻮ͤ֩􎻮ͤ֫􎻮ͤ֬􎻮ͤ֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮ͥ̅􎻮ͥ̍􎻮ͥ̎􎻮ͥ̐􎻮ͥ̒􎻮ͥ̽􎻮ͥ̾􎻮ͥ̿􎻮ͥ͆􎻮ͥ͊􎻮ͥ͋􎻮ͥ͌􎻮ͥ͐􎻮ͥ͑􎻮ͥ͒􎻮ͥ͗􎻮ͥ͛􎻮ͥͣ􎻮ͥͤ􎻮ͥͥ􎻮ͥͦ􎻮ͥͧ􎻮ͥͨ􎻮ͥͩ􎻮ͥͪ􎻮ͥͫ􎻮ͥͬ􎻮ͥͭ􎻮ͥͮ􎻮ͥͯ􎻮ͥ҃􎻮ͥ҄􎻮ͥ҅􎻮ͥ҆􎻮ͥ҇􎻮ͥ֒􎻮ͥ֓􎻮ͥ֔􎻮ͥ֕􎻮ͥ֗􎻮ͥ֘􎻮ͥ֙􎻮ͥ֜􎻮ͥ֝􎻮ͥ֞􎻮ͥ֟􎻮ͥ֠􎻮ͥ֡􎻮ͥ֨􎻮ͥ֩􎻮ͥ֫􎻮ͥ֬􎻮ͥ֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮ͦ̅􎻮ͦ̍􎻮ͦ̎􎻮ͦ̐􎻮ͦ̒􎻮ͦ̽􎻮ͦ̾􎻮ͦ̿􎻮ͦ͆􎻮ͦ͊􎻮ͦ͋􎻮ͦ͌􎻮ͦ͐􎻮ͦ͑􎻮ͦ͒􎻮ͦ͗􎻮ͦ͛􎻮ͦͣ􎻮ͦͤ􎻮ͦͥ􎻮ͦͦ􎻮ͦͧ􎻮ͦͨ􎻮ͦͩ􎻮ͦͪ􎻮ͦͫ􎻮ͦͬ􎻮ͦͭ􎻮ͦͮ􎻮ͦͯ􎻮ͦ҃􎻮ͦ҄􎻮ͦ҅􎻮ͦ҆􎻮ͦ҇􎻮ͦ֒􎻮ͦ֓􎻮ͦ֔􎻮ͦ֕􎻮ͦ֗􎻮ͦ֘􎻮ͦ֙􎻮ͦ֜􎻮ͦ֝􎻮ͦ֞􎻮ͦ֟􎻮ͦ֠􎻮ͦ֡􎻮ͦ֨􎻮ͦ֩􎻮ͦ֫􎻮ͦ֬􎻮ͦ֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮ͧ̅􎻮ͧ̍􎻮ͧ̎􎻮ͧ̐􎻮ͧ̒􎻮ͧ̽􎻮ͧ̾􎻮ͧ̿􎻮ͧ͆􎻮ͧ͊􎻮ͧ͋􎻮ͧ͌􎻮ͧ͐􎻮ͧ͑􎻮ͧ͒􎻮ͧ͗􎻮ͧ͛􎻮ͧͣ􎻮ͧͤ􎻮ͧͥ􎻮ͧͦ􎻮ͧͧ􎻮ͧͨ􎻮ͧͩ􎻮ͧͪ􎻮ͧͫ􎻮ͧͬ􎻮ͧͭ􎻮ͧͮ􎻮ͧͯ􎻮ͧ҃􎻮ͧ҄􎻮ͧ҅􎻮ͧ҆􎻮ͧ҇􎻮ͧ֒􎻮ͧ֓􎻮ͧ֔􎻮ͧ֕􎻮ͧ֗􎻮ͧ֘􎻮ͧ֙􎻮ͧ֜􎻮ͧ֝􎻮ͧ֞􎻮ͧ֟􎻮ͧ֠􎻮ͧ֡􎻮ͧ֨􎻮ͧ֩􎻮ͧ֫􎻮ͧ֬􎻮ͧ֯[0m[uD
[s[0m[38;2;{{.*}}m􎻮ͨ̅􎻮ͨ̍􎻮ͨ̎􎻮ͨ̐􎻮ͨ̒􎻮ͨ̽􎻮ͨ̾􎻮ͨ̿􎻮ͨ͆􎻮ͨ͊􎻮ͨ͋􎻮ͨ͌􎻮ͨ͐􎻮ͨ͑􎻮ͨ͒􎻮ͨ͗􎻮ͨ͛􎻮ͨͣ􎻮ͨͤ􎻮ͨͥ􎻮ͨͦ􎻮ͨͧ􎻮ͨͨ􎻮ͨͩ􎻮ͨͪ􎻮ͨͫ􎻮ͨͬ􎻮ͨͭ􎻮ͨͮ􎻮ͨͯ􎻮ͨ҃􎻮ͨ҄􎻮ͨ҅􎻮ͨ҆􎻮ͨ҇􎻮ͨ֒􎻮ͨ֓􎻮ͨ֔􎻮ͨ֕􎻮ͨ֗􎻮ͨ֘􎻮ͨ֙􎻮ͨ֜􎻮ͨ֝􎻮ͨ֞􎻮ͨ֟􎻮ͨ֠􎻮ͨ֡􎻮ͨ֨􎻮ͨ֩􎻮ͨ֫􎻮ͨ֬􎻮ͨ֯[0m[uD
[0m[38;2;{{.*}}m􎻮ͩ̅􎻮ͩ̍􎻮ͩ̎􎻮ͩ̐􎻮ͩ̒􎻮ͩ̽􎻮ͩ̾􎻮ͩ̿􎻮ͩ͆􎻮ͩ͊􎻮ͩ͋􎻮ͩ͌􎻮ͩ͐􎻮ͩ͑􎻮ͩ͒􎻮ͩ͗􎻮ͩ͛􎻮ͩͣ􎻮ͩͤ􎻮ͩͥ􎻮ͩͦ􎻮ͩͧ􎻮ͩͨ􎻮ͩͩ􎻮ͩͪ􎻮ͩͫ􎻮ͩͬ􎻮ͩͭ􎻮ͩͮ􎻮ͩͯ􎻮ͩ҃􎻮ͩ҄􎻮ͩ҅􎻮ͩ҆􎻮ͩ҇􎻮ͩ֒􎻮ͩ֓􎻮ͩ֔􎻮ͩ֕􎻮ͩ֗􎻮ͩ֘􎻮ͩ֙􎻮ͩ֜􎻮ͩ֝􎻮ͩ֞􎻮ͩ֟􎻮ͩ֠􎻮ͩ֡􎻮ͩ֨􎻮ͩ֩􎻮ͩ֫􎻮ͩ֬􎻮ͩ֯[0m[53DD

---------- SUBTEST Mixing queries and images/ids is not supported ----------

tupimage list --last 1 ./.cli-tests-data/wikipedia.png
error: Cannot specify images/ids and queries at the same time.
Exit code: 2

---------- SUBTEST Mixing queries and --all is not supported ----------

tupimage list --last 1 -a
error: Cannot use --all and specify images/ids or queries at the same time.
Exit code: 2

========== TEST Force ID ==========


---------- SUBTEST Upload an image with a specific id ----------

tupimage display ./.cli-tests-data/wikipedia.png -r 2 --force-id [[id:.*]]
_Gi=[[id]],t=f,q=2,f=100,a=T,U=1,r=2,c=5;{{.*}}\
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒[0m[5DD

---------- SUBTEST Redisplay it ----------

tupimage display ./.cli-tests-data/wikipedia.png -r 2
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒[0m[5DD

---------- SUBTEST Check that the id is set ----------

tupimage get-id ./.cli-tests-data/wikipedia.png -r 2
[[id]]
tupimage list ./.cli-tests-data/wikipedia.png
[[id]]	5x2	{{.*}}/wikipedia.png

---------- SUBTEST Assign the same id to a different image without uploading ----------

tupimage get-id ./.cli-tests-data/tux.png -r 2 --force-id [[id]]
[[id]]
tupimage list -v
[1mID: [[id]][0m = 0x123456 {{.*}}
  {"path": "{{.*}}/tux.png", {{.*}}}
  [1mNEEDS UPLOADING[0m to {{.*}}
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐[0m[4DD
--------------------------------------------------------------------------------

---------- SUBTEST Fix the image ----------

tupimage fix [[id]]
_Gi=[[id]],t=f,q=2,f=100,a=T,U=1,r=2,c=4;{{.*}}\
fix [[id]]	4x2	{{.*}}/tux.png

---------- SUBTEST Display the image by id ----------

tupimage display [[id]]
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐[0m[4DD
tupimage list -v
[1mID: [[id]][0m = 0x123456 {{.*}}
  {"path": "{{.*}}/tux.png", {{.*}}}
  Uploaded {{.*}} (0 seconds ago)  size: 11913 bytes bytes_ago: 11913 uploads_ago: 1
[s[0m[38;2;[[rgb(id)]]m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐[0m[uD
[0m[38;2;[[rgb(id)]]m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐[0m[4DD
--------------------------------------------------------------------------------

Script done on {{.*}} [COMMAND_EXIT_CODE="0"]
