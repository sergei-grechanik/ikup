========== TEST test_restore_cursor - Cursor restoration functionality ==========

[H[2J
---------- SUBTEST Automatic restore cursor with positioning ----------

ikup ./.cli-tests-data/wikipedia.png --max-rows 3 --pos 10,5
[6n
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=3,c=7;{{.*}}\
[6;11H[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾[0m[7;11H[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾[0m[8;11H[0m[38;2;{{.*}}m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾[0m[5d[1G
---------- SUBTEST Explicit restore cursor settings ----------

ikup ./.cli-tests-data/tux.png --max-rows 3 --pos 15,8 --restore-cursor true
[6n
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=3,c=6;{{.*}}\
[9;16H[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽[0m[10;16H[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽[0m[11;16H[0m[38;2;{{.*}}m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽[0m[9d[1G
---------- SUBTEST No-value restore cursor (same as true) ----------

ikup ./.cli-tests-data/small_arrow.png --max-rows 3 --pos 5,2 --restore-cursor
[6n
_Gi=[[id:.*]],t=f,q=2,f=100,a=T,U=1,r=2,c=2;{{.*}}\
[3;6H[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍[0m[4;6H[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍[0m[13d[1G
---------- SUBTEST Auto restore cursor behavior ----------

ikup ./.cli-tests-data/wikipedia.png --max-rows 3 --pos tc/2,tr/2 --restore-cursor auto
[6n[13;41H[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍􎻮̅̎􎻮̅̐􎻮̅̒􎻮̅̽􎻮̅̾[0m[14;41H[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍􎻮̍̎􎻮̍̐􎻮̍̒􎻮̍̽􎻮̍̾[0m[15;41H[0m[38;2;{{.*}}m􎻮̎̅􎻮̎̍􎻮̎̎􎻮̎̐􎻮̎̒􎻮̎̽􎻮̎̾[0m[18d[1G
---------- SUBTEST Disable restore cursor ----------

ikup ./.cli-tests-data/small_arrow.png --max-rows 3 --pos 5,2 --restore-cursor false
[3;6H[0m[38;2;{{.*}}m􎻮̅̅􎻮̅̍[0m[4;6H[0m[38;2;{{.*}}m􎻮̍̅􎻮̍̍[0m[2DD

